webpackJsonp([4],{"07gv":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgEAYAAAAj6qa3AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAAAltJREFUaN7tmL1Lm1EUh5+TD/oRxaG0tOLk0qkdBJcOOouCUFsLHQJmaBoVHVpKcWn8B0QNKHSzi/jxWkVrRSjUgCJOQWPMooN0sJaCFVKUtO/pYGNpbMFEzZuQ99nvPef3DId7D9jY2NjYZIMxoNrfD8Zz1VgMxv2qPh+oqopY3d1pyaLR0RE1S0rAOYXs7wNN8Ffg6xAOw88dCASguVkkFrM66P9wZH7kqgdxu/8RPMUXqKkBVwAiETBcqn198GZH1eOxOvA5CDgt+hrcbmAEOjrAE0dXV+Fts2pdndXBcyDgBF+RykowH8HsLBglqtPTYMyqWVFRDALSGYKGBuA2Eo3C+IFqZyeMjqo6ncUgIEUEyspA3kFvLzg/w8oKGNtqVlcXg4B0yqGqCggiS0t/hujUPTVLS4tBQIp6cLk4HqI/PEg8DhP1anq9xSAgnadQXg7qQ4aGwLihOjl51iFaSALSGYTGRpAAEg5n+wItZAG/0ffo4WG2pwtYgAzA8DDIDNTWgoiIaqa3uKyOkQHX0K0tkJdIWxvcXxaZmwM+nOXSPBYgTyCZBP0Gg4OQ+IR0dYF3WSSROK8q+SjgCiwughkCvx8ePBZZXwduXkSxfBAQh7090GcQDMLaJQiFoFtETPOii1sp4BU6NgbihfZ2aLosjt3dXDeRSwEz6OYmmN3Q2goPo+KYnwde5Dp0jgQcD7Fb0NMD+2tIMAgtInJwYGXoMwr4nkCTyaOVmConN0PDsLAAfDxaiTXdEdnYIKv1W16T+qUZ26rRKEzcVW1pKbSlqI2NjU1R8wsd4NsXzRkl3gAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wOS0yMFQxNzo1MTowMSswODowMNRvd9wAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDktMjBUMTc6NTE6MDErMDg6MDClMs9gAAAAVHRFWHRzdmc6YmFzZS11cmkAZmlsZTovLy9ob21lL2FkbWluL2ljb24tZm9udC90bXAvaWNvbl8wbm5idGZmNmFvLyVFNiU5MiVBRCVFNiU5NCVCRS5zdmewZ6mSAAAAAElFTkSuQmCC"},"4dYr":function(t,e){},Mc22:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgEAYAAAAj6qa3AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAAANBJREFUaN7tmT0OgkAUBuf5A4HKwit4B2JnxQ1ouQH3UhNLD2NtTwExMfJjZUkUmi+RN802u29np12YOTb+yPXWd2EIzx0WRcP7XmeoKsgys7adrng69l0QwDrD4nh43wb6uoaD2aJpfp2+GC/0AIoCuguU5fC6vEOSTH/4h9Ue8vz7feUWS9Ox0ycE+C88gFpAjQdQC6jxAGoBNR5ALaDGA6gF1HgAtYAaD6AWUOMB1AJqPIBaQI0HUAuo8QBqATUeQC2gxgOoBdTM/nN09rwBVINKQtd/CnAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDktMjBUMTc6NTU6MzgrMDg6MDDGk5WWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTA5LTIwVDE3OjU1OjM4KzA4OjAwt84tKgAAAFZ0RVh0c3ZnOmJhc2UtdXJpAGZpbGU6Ly8vaG9tZS9hZG1pbi9pY29uLWZvbnQvdG1wL2ljb25fMDVlOGV0eGZ4ZDdwLyVFNiU5QSU4MiVFNSU4MSU5Qy5zdmcGfVkZAAAAAElFTkSuQmCC"},X75J:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgEAYAAAAj6qa3AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAABCJJREFUaN7lmV9IU28Yx593Z6TmRQiShJCYhLKR/dliCpES4WA3drO8EKYlNLqQELdz5k1jF2PnvIcwFMEpKCkKzobdeLEYeiGWUOBazG7SLXIIkc6RsnRuTxf7rQt/DCemc/Nze877nPP98Jz3nPO+BA5AXBPXxLWHD0EBClBYrdiADdjAMNAP/dAvisY8Y54xr7+fEEIIQTyo3mmDpDrQ3dzd3N186VI0Eo1EI34/1EAN1OTl/e9EF7jA5XYzu8wus/v4cedc51zn3PfvmQ6WLpJUB/ZCe6G9kFyeMngSNahBff9+rD3WHmv//Jmu0lW6qtNlOtiRBcRdcVfcxTBpVwpAAAIXLsA4jMP4q1d0kA7SwenpZCdlOuihBRyZEIQgpNFEi6PF0WKPR7ALdsH+4EGmA5+cgCSlUAqlFy+SMAmT8NQUFahABYfDZrPZbLaiotwXsB8CBIhWy6gZNaP2eMQRcUQcuXfv7AhI4gY3uC9fxg7swA63m/qpn/rt9oSQwsLcF5CEAw44QmASJmHyyRPQgQ50Xi9v42287c6d3BewD6RIkV65IqmWVEuqZ2dFjagRNTxvRjOa8dy5nBfwFx/4wCeVYj3WYz3HFe4U7hTufPxIHdRBHTdu5L6A/fRAD/RcuwYqUIHq/XvBKTgFJ8c5HA6Hw3GI75WsFZBkAiZgIj+fLJNlsszzAWfAGXDOzdFW2kpbr17NfQH7UYACFLW1iZ8zjych4tkzREREQg4anv0CkvRAD/ScPw8ykIHs5UtxXVwX10dHz46A/QzBEAw1N/NyXs7Lr18/ewL+g9lmtpnt1OsU0kzf4HFBrMRKrKOjxrAxbAx7vanOy50OKIACKPj1C8xgBrNeb9g0bBo2W1oOGpb1AoiFWIjl3bsYH+Nj/K1bbISNsJGBgXSX6LJPQBM0QdPv31iBFVhhMpUNlw2XDd+92xXsCnYFv349bLnsmQNWYAVWvN64Jq6Ja3Q6k8/kM/k+fTpq2dMrQA5ykO/tkT7SR/pevNia3premn7+3EIsxEJ2d//VZU6fgFqohdovXySNkkZJY0uLYcOwYdj48CGxkPLvL5f5OUAAAQRE0IIWtAMDxE/8xH/79t/gx0zmOmAGZmDm2zecx3mcf/SIK+fKufLZ2ZO+jZPvAAQEnJyM1cXqYnU3b3JVXBVXdfLBkxx/BwQhCMEfP1CGMpTp9Zye03P6N28yFfjEBJApMkWmXr8mvaSX9D59alAalAblz5+ZDpy2AIlaopaoYzEEhLR2PFWgAlUohCVYgiXt7SzLsiw7NgZKUIIy0zFTk3IOkBZJi6RFPh8swAIs7OykrLAES7D09i22YRu2VVcnnumxsUwHS5cD36yJnRytFvIhH/KtVliERViUStGEJjRRylaylWyl3Z6t2+N/ABlIswnkKddqAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTA5LTI2VDE5OjE1OjMzKzA4OjAw3TrXugAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0wOS0yNlQxOToxNTozMyswODowMKxnbwYAAABVdEVYdHN2ZzpiYXNlLXVyaQBmaWxlOi8vL2hvbWUvYWRtaW4vaWNvbi1mb250L3RtcC9pY29uX2xsZ3dyaTkzbnZiLyVFNiU5MiVBRCVFNiU5NCVCRS5zdmcC9OXuAAAAAElFTkSuQmCC"},fzbz:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgEAYAAAAj6qa3AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAAAilJREFUaN7lmb9LAmEcxt9XRaSmliBQh6BJwhoagnCIIHByuRZBcVGbGq8/wbbWWt0qsKUhChwEHWyoW4ISobVBBBcHeb8NDy/kQdxZ571n77N8cLjz/X7e58Ufx5hDiIiIjo7A93ew3wePj0HOne6zcMFga2vgeEw/RZAg8fAAJhKq1+2dAEGCxMEBzZThENcVCqrX75GAw8PZBNhzdyebpHqenxKa7+2zWfD5GSJyOdUD+yxAZnUVbDTQrKsrCFlZ0UTAt3DGGTcMvJDN2N/XR8BUkknw8REiLi7A5WVNBMjI7xHlMiNGjCwLR2VvTxMB310wzvj6OthsohG1GoREo/9fwFQiEdA0IeTpCUK2tjQRYM/mJtjpQIRpguGwJgJkYjGwVgNbLRyRjQ1NBNizu4sjIj9WT07c/kj7JwJklpbA83OwXtdMgD35PI5GOq2pABkiTQXU6zzEQzxkWZoIGI3ASgUsFp2uiKhesjdpt/EVuljEjvd6bq9c0AaMx+DpKZjJzDq4zII1wLKw04UCBn55+esdA96AyQQ8O8PgOzteDS4T0Aa8vk6f6W53Xu8UkAbIz+nLS1Du9PwGl1HcgI8PsFTinHPOm02/V+B/A4gRo+trvNjeVjW4jE8N+PwEKxVU+/ZW1cD2zLkBNzfY8VQKOx2cwR3zu0djgwGYz6te/98FuH04SkRE9/cQFo+rXrf3IgQJEoaBQd/eQPl4vFp1+89LUPMFcWA6ViWMhAAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDktMjZUMTg6MTY6NTYrMDg6MDB/zJMcAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTA5LTI2VDE4OjE2OjU2KzA4OjAwDpEroAAAAFV0RVh0c3ZnOmJhc2UtdXJpAGZpbGU6Ly8vaG9tZS9hZG1pbi9pY29uLWZvbnQvdG1wL2ljb25fOHc2MDZ5M3hidXMvJUU2JTkyJUFEJUU2JTk0JUJFLnN2Z3UGPbwAAAAASUVORK5CYII="},g5Ud:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("pFYg"),o=a.n(i),l=a("BO1k"),s=a.n(l),r=a("Havv"),n=(a("7+uW"),a("7t+N")),d=a.n(n),p={props:["delType"],data:function(){return{pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()}},top:"data1",showNum:!0,infoList:[{label:"基本信息",name:"data1",type:!1},{label:"病史",name:"data2",type:!1},{label:"US报告",name:"data3",type:!1},{label:"CT报告",name:"data4",type:!1},{label:"MRI报告",name:"data5",type:!1},{label:"DR报告",name:"data6",type:!1},{label:"X线报告",name:"data7",type:!1},{label:"ECG报告",name:"data8",type:!1},{label:"病理报告",name:"data9",type:!1},{label:"其他",name:"data10",type:!1}],imgList:[{url:""}],search:"",uploadForm:{patientName:"",patientSex:"",patientBirthDate:"",patientPhone:"",patientCardId:"",patientAddress:"",hospitalNo:"",hospitalId:"",sectionId:"",doctorId:"",subjectClassificationId:"",organId:"",diagnosticClassificationId:"",pathologyId:"",entryTime:"",equipmentId:"",equipmentType:"",equipmentManufactor:"",reportType:"",medicalHistory:"",reportRemark:""},pageChange:!0,input:"",isInterested:0,videoUrl:"",videoPercentage:0,nowDomVideo:"",videoUploadType:!1,sexList:["女","男"],doctorList:[],facilityList:[],OfficeList:[],hospitalList:[],apparatusList:[],examineList:[],diagnoseList:[],illnessList:[],disciplineList:[],dialogVisible:!1,dialogType:"",formURL:{},idsStr:"",brr:[],crr:[],reportBoolean:!1,status:"",seaPatarr:[],isActived:!1,dataNum:"",apparatusName:"",searchList:[],searchId:"",cutType:"",fileData:[],uploadType:!1}},created:function(){var t=this;""!=sessionStorage.getItem("apparatus")&&(this.uploadForm.organId=JSON.parse(sessionStorage.getItem("apparatus")),this.apparatusName=sessionStorage.getItem("apparatusName")),this.$router.history.current.query.id&&this.axios.get("/medical-imaging-collect/receiving-entity?medicalInfoId="+this.$router.history.current.query.id).then(function(e){var a=e.data.data;if(t.status=a.status,t.uploadForm.medicalInfoId=a.medicalInfoId,t.uploadForm.diagnosisId=a.diagnosisId,t.uploadForm.reportRemark=a.reportRemark,t.uploadForm.medicalHistory=a.medicalHistory,t.uploadForm.reportType=a.reportType,t.uploadForm.patientName=a.patientName,t.uploadForm.patientSex=a.patientSex,t.uploadForm.patientBirthDate=a.patientBirthDate,t.uploadForm.patientPhone=a.patientPhone,t.uploadForm.patientCardId=a.patientCardId,t.uploadForm.patientAddress=a.patientAddress,t.uploadForm.hospitalNo=a.hospitalNo,t.uploadForm.hospitalId=a.hospitalId,t.uploadForm.sectionId=a.sectionId,t.uploadForm.doctorId=a.doctorId,t.uploadForm.organId=a.organId,t.uploadForm.diagnosticClassificationId=a.diagnosticClassificationId,t.uploadForm.subjectClassificationId=a.subjectClassificationId,t.uploadForm.pathologyId=a.pathologyId,t.uploadForm.entryTime=a.entryTime,t.uploadForm.equipmentId=a.equipmentId,t.uploadForm.equipmentType=a.equipmentType,t.uploadForm.equipmentManufactor=a.equipmentManufactor,t.patientId=a.patientId,t.isInterested=a.isInterested,t.crr=a.urlList[0],""!=t.crr.url)if(-1==t.crr.url.indexOf("&"))-1!=t.crr.url.indexOf("mp4")?t.imgList.push({url:t.crr.url,type:"video",videoType:3,value:""}):t.imgList.push({url:t.crr.url,type:"image"});else for(var i=t.crr.url.split("&"),o=0;o<i.length;o++)-1!=i[o].indexOf("mp4")?t.imgList.push({url:i[o],type:"video",videoType:3,value:""}):t.imgList.push({url:i[o],type:"image"});for(var l in t.infoList)0==l||1==l||l==parseInt(t.uploadForm.reportType)+1?t.infoList[l].type=!1:t.infoList[l].type=!0}).catch(function(t){})},mounted:function(){this.axiosGet("/medical-imaging-collect/doctor","doctorList"),this.axiosGet("/medical-imaging-collect/equipment","facilityList"),this.axiosGet("/medical-imaging-collect/section","OfficeList"),this.axiosGet("/medical-imaging-collect/hospital","hospitalList"),this.axiosGet("/medical-imaging-collect/organ","apparatusList"),this.axiosGet("/medical-imaging-collect/checking-type","examineList"),this.axiosGet("/medical-imaging-collect/diagnostic-classification","diagnoseList"),this.axiosGet("/medical-imaging-collect/pathology","illnessList"),this.axiosGet("/medical-imaging-collect/subject-classification","disciplineList")},methods:{showData:function(){var t=!0,e=!1,a=void 0;try{for(var i,o=s()(this.searchList);!(t=(i=o.next()).done);t=!0){var l=i.value;l.patientId==this.searchId&&(this.uploadForm.patientName=l.patientName,this.uploadForm.patientSex=l.patientSex,this.uploadForm.patientBirthDate=l.patientBirthDate,this.uploadForm.patientPhone=l.patientPhone,this.uploadForm.patientCardId=l.patientCardId,this.uploadForm.patientAddress=l.patientAddress)}}catch(t){e=!0,a=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw a}}},searchInfo:function(){if(this.searchList=[],""!=this.search){var t="";t=/^[\u4e00-\u9fa5]+$/.test(this.search)?"patientName":"patientCardId",this.axiosGet("/medical-imaging-collect/patient?"+t+"="+this.search,"searchList")}else this.$message({message:"请输入搜索内容",type:"warning"})},focur:function(){},axiosGet:function(t,e){var a=this;r.a.get(t).then(function(t){"0"==t.data.infoCode?(a.$data[e]=t.data.data,"searchList"==e&&a.focur()):"searchList"==e&&a.focur()})},blur:function(t,e){},save:function(){var t=this,e=!0,a=!1,i=void 0;try{for(var o,l=s()(this.imgList);!(e=(o=l.next()).done);e=!0){var n=o.value;if("video"==n.type&&3!=n.videoType&&2!=n.videoType)return void this.$message({message:"视频尚未上传完成，请等待！",type:"warning"})}}catch(t){a=!0,i=t}finally{try{!e&&l.return&&l.return()}finally{if(a)throw i}}if(this.uploadType)this.$message({message:"操作未完成，请勿反复操作！",type:"warning"});else if(t.uploadType=!0,this.$router.history.current.query.id){c=new FormData;for(var d in c.append("patientId",this.patientId),this.uploadForm)c.append(d,this.uploadForm[d]);for(var p=1;p<this.imgList.length;p++)"video"!=this.imgList[p].type.split("/")[0]?c.append("file",this.imgList[p].uploadData):this.isInterested=1;c.append("url",this.videoUrl),c.append("isInterested",this.isInterested),c.append("status",this.status),c.append("deleteIds",this.idsStr),console.log(this.idsStr),r.a.post("/medical-imaging-collect/receiving-entity/update",c,{"Content-Type":"multipart/form-data"}).then(function(e){"0"==e.data.infoCode?(t.$message({message:e.data.info,type:"success"}),t.$router.push({path:"/patient-upload"})):(t.uploadType=!1,t.$message({message:e.data.info,type:"warning"}))}).catch(function(t){console.log(t)})}else{var c=new FormData;for(var u in this.uploadForm)"reportType"==u?c.append("reportType",this.dialogType):c.append(u,this.uploadForm[u]);for(var A=1;A<this.imgList.length;A++)"video"!=this.imgList[A].type.split("/")[0]?c.append("file",this.imgList[A].uploadData):this.isInterested=1;c.append("isInterested",this.isInterested),c.append("url",this.videoUrl),r.a.post("/medical-imaging-collect/receiving-entity",c,{"Content-Type":"multipart/form-data"}).then(function(e){"0"==e.data.infoCode?(t.$message({message:e.data.info,type:"success"}),t.$router.push({path:"/patient-upload"})):(t.uploadType=!1,t.$message({message:e.data.info,type:"warning"}))}).catch(function(t){console.log("err------: ")})}},handleClick:function(t,e){parseInt(t.index)>=2&&(this.dialogType=parseInt(t.index)-1)},imgUpload:function(t){var e=this,a=t.target.files;for(var i in this.formURL=a,a)if("object"===o()(a[i]))if("video"==a[i].type.split("/")[0]){if("mp4"!=a[i].type.split("/")[1])return this.$message({message:"仅支持MP4格式视频上传！",type:"warning"}),void(document.getElementById("file"+(parseInt(this.dialogType)+1)).value="");1!=this.dialogType?(this.$message({message:"该报告不允许上传视频文件",type:"warning"}),document.getElementById("file"+(parseInt(this.dialogType)+1)).value=""):function(){e.imgList.push({url:(window.URL||window.webkitURL).createObjectURL(a[i]),type:"video",uploadData:a[i],videoType:0,value:"等待中"});var t=e;setTimeout(function(){t.uploadVideo(t.imgList[t.imgList.length-1]);var e=d()(".urlInfo").find("canvas").length-1;t.setCanvas(d()(".urlInfo").find("canvas")[e],"#00ADFF")},100)}()}else this.imgList.push({url:(window.URL||window.webkitURL).createObjectURL(a[i]),type:"image",uploadData:a[i]})},videoClick:function(t,e){var a=this.$refs["video"+e][0];a.paused?a.play():a.pause(),a.paused?a.videoType=3:a.videoType=2},setCanvas:function(t,e){var a=this.videoPercentage,i=t.getContext("2d");i.beginPath(),i.strokeStyle=e,i.lineWidth=4;var o=30,l=30,s=28,r=0;r=a<=50?Math.PI/(180/(3.6*a)):3.6*a/180*Math.PI,i.arc(o,l,s,0,r,!1),i.stroke()},del:function(t,e){if(-1!=t.indexOf("mp4")){var a=[t,e];this.$emit("showType",4,a)}else this.idsStr?this.idsStr=this.idsStr+","+t:this.idsStr=t,document.getElementById("file"+(parseInt(this.dialogType)+1)).value="",this.imgList.splice(e,1)},equipmentData:function(){var t=!0,e=!1,a=void 0;try{for(var i,o=s()(this.facilityList);!(t=(i=o.next()).done);t=!0){var l=i.value;this.uploadForm.equipmentId==l.id&&(this.uploadForm.equipmentType=l.instrumentModel,this.uploadForm.equipmentManufactor=l.manufacturer)}}catch(t){e=!0,a=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw a}}},playType:function(t,e){3==t&&(this.imgList[e].videoType=2,this.$refs["video"+e][0].play())},uploadVideo:function(t){var e=this,a=new FormData,i=this;this.videoUploadType=!1,this.videoPercentage=0,a.append("file",t.uploadData),r.a.post("/medical-imaging-collect/file",a,{"Content-Type":"multipart/form-data"}).then(function(e){if("0"==e.data.infoCode){i.videoPercentage=100,i.videoUploadType=!0,""==i.videoUrl?i.videoUrl=e.data.data:i.videoUrl+="&"+e.data.data,t.videoType=3,t.value="";var a=d()(".urlInfo").find("canvas").length-1;i.setCanvas(d()(".urlInfo").find("canvas")[a],"#00ADFF")}}).catch(function(a){t.videoType=2,t.value="网络错误";var i=d()(".urlInfo").find("canvas").length-1;e.setCanvas(d()(".urlInfo").find("canvas")[i],"#a8a8a8")});var o=d()(".urlInfo").find("canvas").length-1;this.videoProgress(t,o)},videoProgress:function(t,e){var a=this;this.setCanvas(d()(".urlInfo").find("canvas")[e],"#00ADFF"),r.a.get("/medical-imaging-collect/file?fileName="+encodeURIComponent(t.uploadData.name)).then(function(i){if(0==a.videoUploadType){null!=i.data.data?a.videoPercentage=parseInt(i.data.data):a.videoPercentage=a.videoPercentage,0==a.videoPercentage?t.value="等待中":t.value="上传中";var o=a;setTimeout(function(){o.videoProgress(t,e)},1e3)}}).catch(function(){})},imgBlog:function(t){this.$emit("imgbolg",t)}},watch:{delType:function(){this.delType&&(this.idsStr?this.idsStr=this.idsStr+","+this.delType[0]:this.idsStr=this.delType[0],document.getElementById("file"+(parseInt(this.dialogType)+1)).value="",this.imgList.splice(this.delType[1],1))},dialogType:function(t,e){},imgList:function(t){this.imgList==[{url:""}]?(this.pageChange=!0,this.isActived=!0):this.pageChange=!1},top:function(t,e){var a=this;if(t!=this.cutType&&"data1"!=t&&"data2"!=t&&"data1"!=e&&"data2"!=e){if(""==this.uploadForm.reportRemark&&1==this.imgList.length)return;this.$confirm("此操作将清空上个操作的内容, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.cutType="",a.top=t,a.imgList=[{url:""}],document.getElementById("file"+(parseInt(a.dialogType)+1)).value="",a.formURL={},a.uploadForm.reportRemark="",a.$message({type:"success",message:"清除成功!"})}).catch(function(){for(var t in a.top=e,a.cutType=e,a.infoList)a.infoList[t].name==a.top&&(a.dialogType=parseInt(t)-1);a.$message({type:"info",message:"已取消清除"})})}}}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Patient-Information"},[i("el-container",{staticClass:"wrap"},[i("el-container",[i("el-main",[i("div",[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",[t._v("样本创建")]),t._v(" "),i("el-breadcrumb-item",[t._v(t._s(t.apparatusName))]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],1),t._v(" "),i("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.top,callback:function(e){t.top=e},expression:"top"}},[t._l(t.infoList,function(e,o){return[i("el-tab-pane",{key:e.label,attrs:{label:e.label,name:e.name,disabled:e.type}},["基本信息"==e.label?[i("el-form",{ref:"form",refInFor:!0,attrs:{inline:!0}},[i("div",{staticClass:"wrap_0 wrapAll"},[i("el-form-item",{attrs:{label:"搜索："}},[i("el-input",{class:{inputStyle:""!=t.search},attrs:{placeholder:"请输入内容"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),i("el-form-item",[i("el-select",{ref:"sel",refInFor:!0,attrs:{placeholder:"",id:"serachList"},on:{focus:t.focur,change:t.showData},model:{value:t.searchId,callback:function(e){t.searchId=e},expression:"searchId"}},t._l(t.searchList,function(t){return i("el-option",{key:t.patientId,attrs:{label:t.patientName,value:t.patientId}})}))],1),t._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:t.searchInfo}},[i("label",{attrs:{for:"serachList"}},[t._v("搜索")])])],1)],1),t._v(" "),i("div",{staticClass:"wrap_1 wrapAll"},[i("el-form-item",{attrs:{label:"姓名："}},[i("i",{staticClass:"must"}),t._v(" "),i("el-input",{class:{inputStyle:""!=t.uploadForm.patientName},attrs:{placeholder:"姓名："},model:{value:t.uploadForm.patientName,callback:function(e){t.$set(t.uploadForm,"patientName",e)},expression:"uploadForm.patientName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"性别："}},[i("i",{staticClass:"must"}),t._v(" "),i("el-select",{class:{inputStyle:"1"==t.uploadForm.patientSex||"0"==t.uploadForm.patientSex},attrs:{placeholder:"性别"},model:{value:t.uploadForm.patientSex,callback:function(e){t.$set(t.uploadForm,"patientSex",e)},expression:"uploadForm.patientSex"}},t._l(t.sexList,function(t,e){return i("el-option",{key:t,attrs:{label:t,value:e}})}))],1)],1),t._v(" "),i("div",{staticClass:"wrap_2 wrapAll"},[i("el-form-item",{attrs:{label:"年龄："}},[i("i",{staticClass:"must"}),t._v(" "),i("el-input",{class:{inputStyle:""!=t.uploadForm.patientBirthDate},attrs:{placeholder:"年龄"},model:{value:t.uploadForm.patientBirthDate,callback:function(e){t.$set(t.uploadForm,"patientBirthDate",e)},expression:"uploadForm.patientBirthDate"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"联系电话："}},[i("i",{staticClass:"must"}),t._v(" "),i("el-input",{class:{inputStyle:""!=t.uploadForm.patientPhone},attrs:{placeholder:"联系电话："},model:{value:t.uploadForm.patientPhone,callback:function(e){t.$set(t.uploadForm,"patientPhone",e)},expression:"uploadForm.patientPhone"}})],1)],1),t._v(" "),i("div",{staticClass:"wrap-3 wrapAll"},[i("el-form-item",{attrs:{label:"身份证号："}},[i("i",{staticClass:"must"}),t._v(" "),i("el-input",{class:{inputStyle:""!=t.uploadForm.patientCardId},attrs:{placeholder:"身份证号："},model:{value:t.uploadForm.patientCardId,callback:function(e){t.$set(t.uploadForm,"patientCardId",e)},expression:"uploadForm.patientCardId"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"家庭住址："}},[i("el-input",{class:{inputStyle:""!=t.uploadForm.patientAddress},attrs:{placeholder:"家庭住址："},model:{value:t.uploadForm.patientAddress,callback:function(e){t.$set(t.uploadForm,"patientAddress",e)},expression:"uploadForm.patientAddress"}})],1)],1),t._v(" "),i("div",{staticClass:"wrap-4 wrapAll"},[i("el-form-item",{attrs:{label:"住院号："}},[i("i",{staticClass:"must"}),t._v(" "),i("el-input",{class:{inputStyle:""!=t.uploadForm.hospitalNo},attrs:{placeholder:"住院号："},model:{value:t.uploadForm.hospitalNo,callback:function(e){t.$set(t.uploadForm,"hospitalNo",e)},expression:"uploadForm.hospitalNo"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"检查医院："}},[i("i",{staticClass:"must"}),t._v(" "),i("el-select",{class:{inputStyle:""!=t.uploadForm.hospitalId},attrs:{placeholder:"请选择"},model:{value:t.uploadForm.hospitalId,callback:function(e){t.$set(t.uploadForm,"hospitalId",e)},expression:"uploadForm.hospitalId"}},t._l(t.hospitalList,function(t){return i("el-option",{key:t.hospitalName,attrs:{label:t.hospitalName,value:t.hospitalId}})}))],1)],1),t._v(" "),i("div",{staticClass:"wrap-5 wrapAll"},[i("el-form-item",{attrs:{label:"检查科室："}},[i("i",{staticClass:"must"}),t._v(" "),i("el-select",{class:{inputStyle:""!=t.uploadForm.sectionId},attrs:{placeholder:"请选择"},model:{value:t.uploadForm.sectionId,callback:function(e){t.$set(t.uploadForm,"sectionId",e)},expression:"uploadForm.sectionId"}},t._l(t.OfficeList,function(t){return i("el-option",{key:t.sectionId,attrs:{label:t.sectionName,value:t.sectionId}})}))],1),t._v(" "),i("el-form-item",{attrs:{label:"超声医师："}},[i("i",{staticClass:"must"}),t._v(" "),i("el-select",{class:{inputStyle:""!=t.uploadForm.doctorId},attrs:{placeholder:"请选择"},model:{value:t.uploadForm.doctorId,callback:function(e){t.$set(t.uploadForm,"doctorId",e)},expression:"uploadForm.doctorId"}},t._l(t.doctorList,function(t){return i("el-option",{key:t.doctorName,attrs:{label:t.doctorName,value:t.doctorId}})}))],1)],1),t._v(" "),i("div",{staticClass:"wrap-6 wrapAll"},[i("el-form-item",{attrs:{label:"检查部位："}},[i("i",{staticClass:"must"}),t._v(" "),i("el-select",{class:{inputStyle:""!=t.uploadForm.organId},attrs:{placeholder:"请选择",disabled:""},model:{value:t.uploadForm.organId,callback:function(e){t.$set(t.uploadForm,"organId",e)},expression:"uploadForm.organId"}},t._l(t.apparatusList,function(t){return i("el-option",{key:t.organName,attrs:{label:t.organName,value:t.organId}})}))],1),t._v(" "),i("el-form-item",{attrs:{label:"临床诊断："}},[i("i",{staticClass:"must"}),t._v(" "),i("el-select",{class:{inputStyle:""!=t.uploadForm.diagnosticClassificationId},attrs:{placeholder:"临床诊断："},model:{value:t.uploadForm.diagnosticClassificationId,callback:function(e){t.$set(t.uploadForm,"diagnosticClassificationId",e)},expression:"uploadForm.diagnosticClassificationId"}},t._l(t.diagnoseList,function(t){return i("el-option",{key:t.diagnosticClassificationName,attrs:{label:t.diagnosticClassificationName,value:t.diagnosticClassificationId}})}))],1)],1),t._v(" "),i("div",{staticClass:"wrap-7 wrapAll"},[i("el-form-item",{attrs:{label:"学科编码："}},[i("i",{staticClass:"must"}),t._v(" "),i("el-select",{class:{inputStyle:""!=t.uploadForm.subjectClassificationId},model:{value:t.uploadForm.subjectClassificationId,callback:function(e){t.$set(t.uploadForm,"subjectClassificationId",e)},expression:"uploadForm.subjectClassificationId"}},t._l(t.disciplineList,function(t){return i("el-option",{key:t.subjectClassificationName,attrs:{label:t.subjectClassificationName,value:t.subjectClassificationId}})}))],1),t._v(" "),i("el-form-item",{attrs:{label:"国际疾病分类："}},[i("i",{staticClass:"must",staticStyle:{left:"-132px"}}),t._v(" "),i("el-select",{class:{inputStyle:""!=t.uploadForm.pathologyId},attrs:{placeholder:"请选择"},model:{value:t.uploadForm.pathologyId,callback:function(e){t.$set(t.uploadForm,"pathologyId",e)},expression:"uploadForm.pathologyId"}},t._l(t.illnessList,function(t){return i("el-option",{key:t.pathologyName,attrs:{label:t.pathologyName,value:t.pathologyId}})}))],1)],1),t._v(" "),i("div",{staticClass:"wrap-8 wrapAll"},[i("el-form-item",{class:{inputStyle:""!=t.uploadForm.entryTime},attrs:{label:"录入时间："}},[i("i",{staticClass:"must"}),t._v(" "),i("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date","picker-options":t.pickerOptions,placeholder:"请选择日期"},model:{value:t.uploadForm.entryTime,callback:function(e){t.$set(t.uploadForm,"entryTime",e)},expression:"uploadForm.entryTime"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"仪器设备："}},[i("i",{staticClass:"must"}),t._v(" "),i("el-select",{class:{inputStyle:""!=t.uploadForm.equipmentId},attrs:{placeholder:"请选择"},on:{change:t.equipmentData},model:{value:t.uploadForm.equipmentId,callback:function(e){t.$set(t.uploadForm,"equipmentId",e)},expression:"uploadForm.equipmentId"}},t._l(t.facilityList,function(t){return i("el-option",{key:t.name,attrs:{label:t.name,value:t.id}})}))],1)],1),t._v(" "),i("div",{staticClass:"wrap-9 wrapAll"},[i("el-form-item",{attrs:{label:"仪器类型："}},[i("el-input",{attrs:{placeholder:"仪器类型：",disabled:""},model:{value:t.uploadForm.equipmentType,callback:function(e){t.$set(t.uploadForm,"equipmentType",e)},expression:"uploadForm.equipmentType"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"仪器厂家："}},[i("el-input",{attrs:{placeholder:"仪器厂家：",disabled:""},model:{value:t.uploadForm.equipmentManufactor,callback:function(e){t.$set(t.uploadForm,"equipmentManufactor",e)},expression:"uploadForm.equipmentManufactor"}})],1)],1)])]:"病史"!=e.label?[i("div",{staticClass:"onloadImg"},[i("span",[t._v("图像上传：")]),t._v(" "),i("div",{staticClass:"urlInfo"},[i("ul",t._l(t.imgList,function(l,s){return i("li",{key:l.url},[0==s?[i("input",{ref:"file"+o,refInFor:!0,staticClass:"fileImg",attrs:{type:"file",id:"file"+o,multiple:"multiple"},on:{change:t.imgUpload}}),t._v(" "),i("label",{staticClass:"file",attrs:{for:"file"+o}},[i("i",{staticClass:"el-icon-plus"})])]:["US报告"==e.label?["video"==l.type?[i("video",{ref:"video"+s,refInFor:!0,attrs:{controls:"controls",height:"220px",width:"260px",preload:"metadata"},on:{click:function(e){t.videoClick(l.videoType,s)}}},[i("source",{attrs:{src:l.url,type:"video/mp4"}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2!=l.videoType,expression:"imgInfo.videoType != 2"}],staticClass:"video"},[i("div",{staticClass:"videoType"},[i("div",{staticClass:"videoShowrao",on:{click:function(e){t.playType(l.videoType,s)}}},[0==l.videoType?i("img",{attrs:{src:a("Mc22"),alt:""}}):1==l.videoType?i("img",{attrs:{src:a("07gv"),alt:""}}):2==l.videoType?i("img",{attrs:{src:a("X75J"),alt:""}}):3==l.videoType?i("img",{attrs:{src:a("fzbz"),alt:""}}):t._e()]),t._v(" "),i("p",[t._v(t._s(l.value))])]),t._v(" "),i("canvas",{directives:[{name:"show",rawName:"v-show",value:3!=l.videoType,expression:"imgInfo.videoType != 3"}],ref:"canvas"+s,refInFor:!0,attrs:{width:"60px",height:"60px"}})]),t._v(" "),i("i",{staticClass:"el-icon-close del",on:{click:function(e){t.del(l.url,s,l.type)}}})]:"image"==l.type?[i("img",{key:s,attrs:{src:l.url,alt:""},on:{dblclick:function(e){t.imgBlog(l.url)}}}),t._v(" "),i("i",{staticClass:"el-icon-close del",on:{click:function(e){t.del(l.url,s,l.type)}}})]:t._e()]:[i("img",{key:s,attrs:{src:l.url,alt:""},on:{dblclick:function(e){t.imgBlog(l.url)}}}),t._v(" "),i("i",{staticClass:"el-icon-close del",on:{click:function(e){t.del(l.url,s,l.type)}}})]]],2)}))])]),t._v(" "),i("div",[i("el-form",{ref:"form",refInFor:!0,attrs:{"label-width":"100px"}},[i("el-form-item",{attrs:{label:"报告内容："}},[i("el-input",{staticStyle:{height:"240px"},attrs:{type:"textarea"},model:{value:t.uploadForm.reportRemark,callback:function(e){t.$set(t.uploadForm,"reportRemark",e)},expression:"uploadForm.reportRemark"}})],1)],1)],1)]:[i("el-form",{ref:"form",refInFor:!0,attrs:{"label-width":"100px"}},[i("el-form-item",{attrs:{label:"报告内容："}},[i("el-input",{attrs:{type:"textarea",placeholder:"请输入："},model:{value:t.uploadForm.medicalHistory,callback:function(e){t.$set(t.uploadForm,"medicalHistory",e)},expression:"uploadForm.medicalHistory"}})],1)],1)]],2)]})],2)],1)],1)],1)],1)},staticRenderFns:[]};var u=a("VU/8")(p,c,!1,function(t){a("4dYr")},null,null);e.default=u.exports}});
//# sourceMappingURL=4.3aba9f451c0bee0c5ded.js.map