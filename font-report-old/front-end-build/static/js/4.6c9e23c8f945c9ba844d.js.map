{"version":3,"sources":["webpack:///./src/pages/watch/server.js","webpack:///src/pages/watch/dialog.vue","webpack:///./src/pages/watch/dialog.vue?e063","webpack:///./src/pages/watch/dialog.vue","webpack:///src/pages/watch/reportwatch.vue","webpack:///./src/pages/watch/reportwatch.vue?4193","webpack:///./src/pages/watch/reportwatch.vue","webpack:///./node_modules/babel-runtime/core-js/json/stringify.js","webpack:///./node_modules/core-js/library/fn/json/stringify.js"],"names":["axios","server","vue_esm","pagepation","reportlist","param","callback","error","params","assign_default","this","get","then","res","reportsave","post","reportsdelete","delete","reportthemeupdate","put","reportpublish","reportmerger","reportorganize","reportorganizechild","dialog","props","mounted","getReportorganize","data","form","reportTitle","remark","usefulTime1","usefulTime2","urgentType","allowTwice","defaultProps","children","label","dataleft","dataright","serverobject","rules2","validator","rule","value","undefined","Error","trigger","computed","dialogobj","dialogOpt","components","Dialogcomponent","dialogcomponent","methods","submitForm","formName","message","type","_this","$refs","validate","valid","console","log","$emit","resetForm","resetFields","self","status","transData","getCheckedNodesLeft","samflag","newgetchecknode","checkednodes","trees","getCheckedNodes","forEach","obj","index","objchild","indexchild","id","push","getCheckedNodesRight","tree","hasOwnProperty","splice","concat","dialogHandlesure","key","dialogHandle","a","orgIdStr","orgNameStr","orgSupIdStr","chindrenStr","r","hash","orgId","orgName","orgSupId","i","j","k","len","length","b","aVal","hashVP","setDataToTree","treeData","pId","respData","td","$set","handleCheckChange","checked","indeterminate","lastchild","watch_dialog","render","_vm","_h","$createElement","_c","_self","attrs","on","dialog-cancle","dialog-sure","title","staticClass","ref","show-checkbox","node-key","check-change","_v","click","model","label-width","$$v","expression","value-format","placeholder","_e","rules","prop","auto-complete","staticStyle","width","height","display","justify-content","font-size","color","staticRenderFns","pages_watch_dialog","__webpack_require__","normalizeComponent","ssrContext","reportwatch","isLastPage","pageNum","pageSize","items","reportthemelist","themevalue","formthemelist","reports","reportsindex","reportIdlists","reportshowtype","checkboxshow","checkednumber","angleshowflag","dialogflag","publicsagainflag","publicsflag","suspendOpt","name","position","domClass","offsetbottom","show","bgshow","FormSelectGroup","formSelectGroup","Scrollframe","CommonSuspend","commonSuspend","Dialog","previewreport","item","isMerger","JSON","parse","oldReportIds","templateCode","split","localStorage","setItem","window","open","reportId","overreportlist","popclick","publics","selectDialog","changecombination","showType","combinations","objrepeat","alert","ajaxshow","list","submitshow","messages","$router","path","query","templateId","submitDialog","formdata","formdatas","reps","stringify_default","nweparam","usefulTime","receiveUserId","receiveUserName","_params","_params2","watch_reportwatch","module","submit-query","suspendobj","select-dialog","size","ajax-query","_l","mouseover","$event","mousedown","_s","ind","publishStatus","change","handlecancle-dialog","handlesure-dialog","reportwatch_Component","reportwatch_normalizeComponent","__webpack_exports__","exports","default","__esModule","core","$JSON","stringify","it","apply","arguments"],"mappings":"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","file":"static/js/4.6c9e23c8f945c9ba844d.js","sourcesContent":["import Vue from 'vue'\r\nexport default (function (axios) {\r\n    return {\r\n        pagepation: \"\",     //翻页\r\n        reportlist: function (param, callback, error) {      //滚动列表加载\r\n            let params = param;\r\n            // debugger\r\n            if (param) {\r\n                params = Object.assign(params, this.pagepation)\r\n            } else {\r\n                params = this.pagepation\r\n            }\r\n            axios.get(\"/reports\", { params: params }).then(res => { callback(res)})\r\n        },\r\n        reportsave: function (param, callback, error) {      //模板保存\r\n            let params = param;\r\n            axios.post(\"/reports\", params).then(res => { callback(res) })\r\n        },   \r\n        reportsdelete: function (param, callback, error) {      \r\n            let params = param;\r\n            axios.delete(\"/reports/\"+params).then(res => { callback(res) })\r\n        },   \r\n        reportthemeupdate: function (param, callback, error) {      \r\n            let params = param;\r\n            axios.put(\"/reports\", params).then(res => { callback(res) })\r\n        },   \r\n        reportpublish: function (param, callback, error) {      \r\n            let params = param;\r\n            axios.post(\"/report-publishing\", params).then(res => { callback(res) })\r\n        },             \r\n        reportmerger: function (param, callback, error) {      //报告合并\r\n            let params = param;\r\n            axios.post(\"/reports/merger\", params).then(res => { callback(res) })\r\n        },\r\n        reportorganize: function (param, callback, error) {      //获取组织架构\r\n            let params = param;\r\n            axios.get(\"/users/organize\", params).then(res => { callback(res) })\r\n        },\r\n        reportorganizechild: function (param, callback, error) {      //获取组织架构\r\n            let params = param;\r\n            axios.get(\"/users/organize/\" + params).then(res => { callback(res) })\r\n        },\r\n    }\r\n})(new Vue().axios)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/watch/server.js","<template>\r\n  <div class=\"\">\r\n    <Dialogcomponent :dialogobj=\"dialogobj\"  v-on:dialog-cancle=\"dialogHandle\" v-on:dialog-sure=\"dialogHandlesure\">\r\n        <div v-if=\"dialogobj.title=='发布'\">\r\n          <div class=\"treetransfer\">\r\n            <el-tree\r\n              :data=\"dataleft\" \r\n              :props=\"defaultProps\"\r\n              show-checkbox\r\n              node-key=\"id\"\r\n              ref=\"tree\"\r\n              @check-change=\"handleCheckChange\">\r\n            </el-tree>\r\n            <div class=\"handle\">\r\n              <span class=\"el-icon-arrow-left\"  @click=\"getCheckedNodesLeft\"></span>\r\n              <span class=\"el-icon-arrow-right\"  @click=\"getCheckedNodesRight\"></span>\r\n            </div>\r\n            <el-tree\r\n              :data=\"dataright\" \r\n              :props=\"defaultProps\"\r\n              node-key=\"id\"\r\n              ref=\"trees\"\r\n              show-checkbox\r\n              @check-change=\"handleCheckChange\">\r\n            </el-tree>\r\n          </div>\r\n          <el-form class=\"formpublic\" ref=\"form\" :model=\"form\" label-width=\"\">\r\n              <el-form-item label=\"是否允许二次转发\">\r\n                  <el-radio-group v-model=\"form.allowTwice\">\r\n                  <el-radio label=\"0\">是</el-radio>\r\n                  <el-radio label=\"1\">否</el-radio>\r\n                  </el-radio-group>\r\n              </el-form-item>\r\n              <el-form-item label=\"紧急程度\">\r\n                  <el-radio-group v-model=\"form.urgentType\">\r\n                  <el-radio label=\"1\">加急</el-radio>\r\n                  <el-radio label=\"2\">紧急</el-radio>\r\n                  <el-radio label=\"3\">正常</el-radio>\r\n                  </el-radio-group>\r\n              </el-form-item>\r\n              <el-form-item label=\"有效期限\">\r\n                  <el-date-picker\r\n                    v-model=\"form.usefulTime\"\r\n                    type=\"datetime\"\r\n                    value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n                    placeholder=\"选择日期时间\">\r\n                  </el-date-picker>\r\n              </el-form-item>\r\n              <el-form-item label=\"备注\">\r\n                  <el-input type=\"textarea\" v-model=\"form.remark\"></el-input>\r\n              </el-form-item>\r\n          </el-form>          \r\n        </div>\r\n        <div v-if=\"dialogobj.title=='合并'\">\r\n          <el-form ref=\"ruleForm2\" :model=\"form\" :rules=\"rules2\">\r\n             <el-form-item label=\"请输入合并后的主题\" prop=\"reportTitle\">\r\n                <el-input type=\"age\" v-model=\"form.reportTitle\" auto-complete=\"off\"></el-input>\r\n              </el-form-item>\r\n          </el-form>\r\n        </div>\r\n        <div v-if=\"dialogobj.title=='修改主题分类'\">\r\n          <el-form ref=\"ruleForm2\" :model=\"form\" :rules=\"rules2\">\r\n             <el-form-item label=\"请输入保存后的主题\"  prop=\"reportTitle\">\r\n                <el-input v-model=\"form.reportTitle\" auto-complete=\"off\"></el-input>\r\n              </el-form-item>\r\n             <el-form-item label=\"备注\">\r\n                <el-input v-model=\"form.remark\"></el-input>\r\n              </el-form-item>\r\n          </el-form>\r\n        </div>\r\n        <div v-if=\"dialogobj.title=='删除'\">\r\n               <div style=\"width:100%;height:100%;display:flex;justify-content:center;font-size:20px;color:#6c6e70;\">确定删除？</div>\r\n        </div>\r\n    </Dialogcomponent>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Dialogcomponent from \"@/components/dialogcomponent.vue\"; //弹窗样板外边框\r\nimport server from \"./server.js\";   //本页所有接口内容集合(每个页面单独添加)\r\nexport default {\r\n  props: [\"dialogOpt\"],\r\n  mounted(){\r\n    this.getReportorganize();   //获取组织结构\r\n  },\r\n  data() {\r\n    var validatePass = (rule, value, callback) => {   //表单验证\r\n      if (value === '' || value === undefined) {\r\n        callback(new Error('输入内容不能为空'));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n\r\n    return {\r\n      form: {   //保存的表单\r\n        reportTitle:\"\",\r\n        remark:\"\",\r\n        usefulTime1:\"\",\r\n        usefulTime2:\"\",\r\n        urgentType:\"\",\r\n        allowTwice:\"\",\r\n      },     \r\n      defaultProps: {\r\n        children: 'children',\r\n        label: 'label'\r\n      },\r\n\r\n      dataleft:[],   //组织架构\r\n      dataright:[],   //用户列表\r\n      serverobject: server,    //ajax服务\r\n\r\n      rules2: {   //表单验证\r\n          reportTitle: [\r\n            { validator: validatePass, trigger: 'blur' }\r\n          ],\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    dialogobj: function() {\r\n      let objs = Object.assign(this.dialogOpt);\r\n      return objs;\r\n    }\r\n  },\r\n  components: {\r\n    Dialogcomponent\r\n  },\r\n  methods: {\r\n   submitForm(formName,message,type) {   //表单验证提交\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {    //验证通过\r\n          this.$emit(\"handlesure-dialog\", message, type, this.form);    //对话框保存\r\n        } else {\r\n          console.log('error submit!!');\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    resetForm(formName) {  //表单验证重置\r\n      this.$refs[formName].resetFields();\r\n    },\r\n\r\n\r\n    getReportorganize(){\r\n      let self=this;\r\n      self.serverobject.reportorganize(\"\",function success(res) {  //接口请求、\r\n        if(res.data.status = \"SUCCESS\"){\r\n            self.dataleft = res.data.data;\r\n            self.dataleft =self.transData(self.dataleft, \"orgId\", \"orgName\",\"orgSupId\", \"children\")\r\n        }\r\n      });\r\n    },\r\n    getCheckedNodesLeft(){\r\n        let self=this,\r\n        samflag=false,\r\n        newgetchecknode=[],\r\n        checkednodes = this.$refs.trees.getCheckedNodes();\r\n        self.dataright.forEach(function(obj,index){\r\n          samflag=false;\r\n          checkednodes.forEach(function(objchild,indexchild){\r\n            if(obj.id == objchild.id){\r\n              samflag=true;\r\n            }\r\n          })\r\n          if(!samflag){\r\n            newgetchecknode.push(obj)\r\n          }\r\n        })\r\n        self.dataright = newgetchecknode;\r\n    },\r\n    getCheckedNodesRight() {\r\n      let self=this,\r\n      newgetchecknode=[],\r\n      checkednodes = this.$refs.tree.getCheckedNodes();\r\n      checkednodes.forEach(function(objchild,indexchild){\r\n        if(!objchild.hasOwnProperty('children')){\r\n          newgetchecknode.push(objchild)\r\n        }\r\n      })\r\n      this.dataright.forEach(function(obj,index){\r\n        newgetchecknode.forEach(function(objchild,indexchild){\r\n          if(obj.id == objchild.id){\r\n            newgetchecknode.splice(indexchild,1)\r\n          }\r\n        })\r\n      })\r\n      this.dataright = this.dataright.concat(newgetchecknode)\r\n    },\r\n    dialogHandlesure:function(message,type){    //保存操作\r\n        for(let key in this.form){    //过滤空的属性\r\n          if(this.form[key] == \"\"){\r\n            delete this.form[key];\r\n          }\r\n        }\r\n        switch (message) {\r\n          case \"保存\":\r\n          this.submitForm('ruleForm2',message,type);   //表单验证\r\n            break;\r\n          case \"合并\":\r\n          this.submitForm('ruleForm2',message,type);   //表单验证\r\n            break;\r\n          case \"发布\":\r\n            this.form['receiveUserId'] = this.dataright;\r\n            this.$emit(\"handlesure-dialog\", message, type, this.form);\r\n            break;\r\n          case \"修改主题分类\":\r\n          this.submitForm('ruleForm2',message,type);   //表单验证\r\n            break;\r\n          case \"删除\":\r\n          this.$emit(\"handlesure-dialog\", message, type, this.form);\r\n            break;\r\n        }\r\n    },\r\n    dialogHandle: function(message, type) {     //取消操作\r\n      this.$emit(\"handlecancle-dialog\", message, type);\r\n    },\r\n\r\n    //将json数据转化为树形组件可识别的结构\r\n    transData(a, orgIdStr, orgNameStr,orgSupIdStr, chindrenStr) {\r\n        var r = [],\r\n            hash = {},\r\n            orgId = orgIdStr,\r\n            orgName = orgNameStr,\r\n            orgSupId = orgSupIdStr,\r\n            children = chindrenStr,\r\n            i = 0,\r\n            j = 0,\r\n            k = 0,\r\n            len = a.length;\r\n            var b = []\r\n        for (; k < len; k++) {\r\n            var tree = {\r\n                id:a[k][orgId],\r\n                label:a[k][orgName],\r\n                orgSupId:a[k][orgSupId],\r\n                // children:[]\r\n            }\r\n            b[k] = tree;\r\n        }\r\n        for (; i < len; i++) {\r\n            hash[b[i][\"id\"]] = b[i];\r\n        }\r\n        for (; j < len; j++) {\r\n            var aVal = b[j],\r\n                hashVP = hash[aVal[orgSupId]];\r\n            if (hashVP) {\r\n                // if(hashVP[children] && hashVP[children].length==0){\r\n                //    hashVP[\"disabled\"]=true;\r\n                // }\r\n                !hashVP[children] && (hashVP[children] = []);\r\n                hashVP[children].push(aVal);\r\n                hashVP[\"disabled\"]=true;\r\n            } else {\r\n                r.push(aVal);\r\n            }\r\n        }\r\n        return r;\r\n    },\r\n    setDataToTree(treeData,pId,respData){\r\n      if(treeData){\r\n        for(var i=0;i<treeData.length;i++) {\r\n            var td = treeData[i];\r\n            if(td.id==pId) {\r\n              this.$set(treeData[i],\"children\",[])\r\n              treeData[i].children=treeData[i].children.concat(respData);\r\n              return;\r\n            }else{\r\n              this.setDataToTree(td.children, pId, respData);\r\n            }\r\n          }\r\n      }\r\n    },\r\n    handleCheckChange(data, checked, indeterminate) {\r\n      let self=this;\r\n      if(!data.lastchild && (!data.children || data.children.length <= 0)){\r\n          let params = data.id;\r\n          server.reportorganizechild(params,function success(res) {  //接口请求、\r\n            if(res.data.status = \"SUCCESS\"){\r\n                res.data.data =self.transData(res.data.data, \"userId\", \"userName\",\"aliasName\", \"children\")\r\n                res.data.data.forEach((obj,index) => {\r\n                    obj.lastchild = true;\r\n                });\r\n                self.setDataToTree(self.dataleft,data.id,res.data.data)\r\n            }\r\n          });\r\n      }\r\n    },    \r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.treetransfer{\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin-bottom:30px;\r\n    .el-tree{\r\n      border:1px solid #eee;\r\n      border-radius: 4px;\r\n      height:300px;\r\n      width:46%;\r\n      overflow-y: auto;\r\n    }\r\n    .handle{\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: center;\r\n      span{\r\n        border-radius: 50%;\r\n        background-color: #589cef;\r\n        font-size: 14px;\r\n        color: #ffffff;\r\n        padding: 10px;\r\n        margin-top:20px;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/watch/dialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('Dialogcomponent',{attrs:{\"dialogobj\":_vm.dialogobj},on:{\"dialog-cancle\":_vm.dialogHandle,\"dialog-sure\":_vm.dialogHandlesure}},[(_vm.dialogobj.title=='发布')?_c('div',[_c('div',{staticClass:\"treetransfer\"},[_c('el-tree',{ref:\"tree\",attrs:{\"data\":_vm.dataleft,\"props\":_vm.defaultProps,\"show-checkbox\":\"\",\"node-key\":\"id\"},on:{\"check-change\":_vm.handleCheckChange}}),_vm._v(\" \"),_c('div',{staticClass:\"handle\"},[_c('span',{staticClass:\"el-icon-arrow-left\",on:{\"click\":_vm.getCheckedNodesLeft}}),_vm._v(\" \"),_c('span',{staticClass:\"el-icon-arrow-right\",on:{\"click\":_vm.getCheckedNodesRight}})]),_vm._v(\" \"),_c('el-tree',{ref:\"trees\",attrs:{\"data\":_vm.dataright,\"props\":_vm.defaultProps,\"node-key\":\"id\",\"show-checkbox\":\"\"},on:{\"check-change\":_vm.handleCheckChange}})],1),_vm._v(\" \"),_c('el-form',{ref:\"form\",staticClass:\"formpublic\",attrs:{\"model\":_vm.form,\"label-width\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"是否允许二次转发\"}},[_c('el-radio-group',{model:{value:(_vm.form.allowTwice),callback:function ($$v) {_vm.$set(_vm.form, \"allowTwice\", $$v)},expression:\"form.allowTwice\"}},[_c('el-radio',{attrs:{\"label\":\"0\"}},[_vm._v(\"是\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"否\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"紧急程度\"}},[_c('el-radio-group',{model:{value:(_vm.form.urgentType),callback:function ($$v) {_vm.$set(_vm.form, \"urgentType\", $$v)},expression:\"form.urgentType\"}},[_c('el-radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"加急\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"2\"}},[_vm._v(\"紧急\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"3\"}},[_vm._v(\"正常\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"有效期限\"}},[_c('el-date-picker',{attrs:{\"type\":\"datetime\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"placeholder\":\"选择日期时间\"},model:{value:(_vm.form.usefulTime),callback:function ($$v) {_vm.$set(_vm.form, \"usefulTime\", $$v)},expression:\"form.usefulTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"备注\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.form.remark),callback:function ($$v) {_vm.$set(_vm.form, \"remark\", $$v)},expression:\"form.remark\"}})],1)],1)],1):_vm._e(),_vm._v(\" \"),(_vm.dialogobj.title=='合并')?_c('div',[_c('el-form',{ref:\"ruleForm2\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules2}},[_c('el-form-item',{attrs:{\"label\":\"请输入合并后的主题\",\"prop\":\"reportTitle\"}},[_c('el-input',{attrs:{\"type\":\"age\",\"auto-complete\":\"off\"},model:{value:(_vm.form.reportTitle),callback:function ($$v) {_vm.$set(_vm.form, \"reportTitle\", $$v)},expression:\"form.reportTitle\"}})],1)],1)],1):_vm._e(),_vm._v(\" \"),(_vm.dialogobj.title=='修改主题分类')?_c('div',[_c('el-form',{ref:\"ruleForm2\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules2}},[_c('el-form-item',{attrs:{\"label\":\"请输入保存后的主题\",\"prop\":\"reportTitle\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.form.reportTitle),callback:function ($$v) {_vm.$set(_vm.form, \"reportTitle\", $$v)},expression:\"form.reportTitle\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"备注\"}},[_c('el-input',{model:{value:(_vm.form.remark),callback:function ($$v) {_vm.$set(_vm.form, \"remark\", $$v)},expression:\"form.remark\"}})],1)],1)],1):_vm._e(),_vm._v(\" \"),(_vm.dialogobj.title=='删除')?_c('div',[_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\",\"display\":\"flex\",\"justify-content\":\"center\",\"font-size\":\"20px\",\"color\":\"#6c6e70\"}},[_vm._v(\"确定删除？\")])]):_vm._e()])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-495fe956\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/watch/dialog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-495fe956\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./dialog.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./dialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./dialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-495fe956\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./dialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-495fe956\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/watch/dialog.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"page\">\r\n    <FormSelectGroup v-on:submit-query=\"submitshow\" :module=\"'reportwatch'\" />\r\n    <CommonSuspend class=\"content-area\" :suspendobj=\"suspendOpt\" @select-dialog=\"selectDialog\">\r\n      <div class=\"underlinebtn\">\r\n        <el-button type=\"primary\"  size=\"small\" @click=\"combinations\">合并</el-button>\r\n        <el-button type=\"primary\" size=\"small\" @click=\"publics\">发布</el-button>\r\n      </div>\r\n      <Scrollframe class=\"content-frame\" :isLastPage=\"isLastPage\"  v-on:ajax-query=\"ajaxshow\" >\r\n          <div class=\"receivelist\" @mouseover=\"overreportlist(item)\" @mousedown=\"popclick(item)\" v-for=\"(item,index) in items\" :key=\"index\">\r\n              <div class=\"list-top\" @click=\"previewreport(item)\">\r\n                  <span class=\"defaultitle\" :title=\"item.reportTitle\" v-if=\"angleshowflag\">{{item.reportTitle}}</span>\r\n                  <span  class=\"multipletitle\" v-if=\"!angleshowflag\" v-for=\"(list,ind) in item.titleList\" :key=\"ind\">\r\n                    {{list.reportTitle}}\r\n                  </span>\r\n                  <div class=\"angle\" v-if=\"!item.publishStatus\">\r\n                    <div class=\"obliqueangle\">未发布</div>\r\n                  </div>\r\n              </div>\r\n              <div class=\"combination\" v-if=\"checkboxshow\"><el-checkbox v-model=\"item.checked\" @change=\"changecombination(item)\"></el-checkbox></div>    \r\n          </div>\r\n      </Scrollframe>\r\n    </CommonSuspend>\r\n    <Dialog  :dialogOpt=\"dialogOpt\" v-on:handlecancle-dialog=\"selectDialog\" v-on:handlesure-dialog=\"submitDialog\"></Dialog> \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport FormSelectGroup from \"@/components/formSelectGroup.vue\"; //select选择组\r\nimport CommonSuspend from \"@/components/commonSuspend.vue\"; //通用悬浮\r\nimport Scrollframe from \"@/components/Scrollframe.vue\";   //滚动下拉加载\r\n// import SwitchChange from \"@/components/switchChange.vue\";   //模拟滑动开关\r\nimport Dialog from \"./dialog.vue\";   //本页所有弹窗内容集合(每个页面单独添加)\r\nimport server from \"./server.js\";   //本页所有接口内容集合(每个页面单独添加)\r\nexport default {\r\n  data() {\r\n    return {\r\n      //必须配置项\r\n      isLastPage:false,   //最后一页\r\n      pagepation: {   //翻页配置   \r\n        pageNum: 1,\r\n        pageSize: 15\r\n      },\r\n      serverobject: server,    //ajax服务\r\n      items: [],    //列表内容数据\r\n\r\n      reportthemelist:[],   //主题下拉框内容\r\n      themevalue: '',     //主题下拉框选中值\r\n      formthemelist:[],   //通过主题id查询的报表内容。\r\n      reports:[],   //勾选的报告对象集合\r\n      reportsindex:{},    //点击的报告对象\r\n\r\n      reportIdlists:[],   //合并报表的id\r\n      reportshowtype:[],   //展示报表类型\r\n      checkboxshow:false,\r\n      checkednumber:0,\r\n      angleshowflag:true,   //未发布左上角斜标\r\n      dialogOpt:{\r\n        \"dialogflag\": false,\r\n        \"width\":\"536px\",\r\n      },\r\n      publicsagainflag:false,//在保存弹窗保存之后，发布弹窗打开之前\r\n      publicsflag:false,  //在点击发布之后，保存弹窗之前      \r\n      suspendOpt:{\r\n        name:\"报告查看\",    //唯一区别遮罩的html内容\r\n        position:\"bottom\",  //遮罩部件在位置\r\n        domClass:\"list-top\",  //遮罩部件\r\n        offsetbottom:\"10%\",    //遮罩层距离底部的距离\r\n        show:true,       //遮罩层是否显示控件\r\n        bgshow:false,\r\n      },\r\n    };\r\n  },\r\n  components: {\r\n    FormSelectGroup,\r\n    Scrollframe,\r\n    CommonSuspend,\r\n    Dialog,\r\n  },\r\n  methods: {\r\n    previewreport(item){    //查看报告预览\r\n      self=this; \r\n      if(item.isMerger){\r\n        let templatename=JSON.parse(item.oldReportIds)[0].templateCode.split(\"/\")[0];\r\n        if(templatename == \"dashboard\"){\r\n            localStorage.setItem('oldReportIds',item.oldReportIds);\r\n            window.open(\"#/dashboardprevmultiple\", \"_blank\");\r\n        }else{\r\n            localStorage.setItem('oldReportIds',item.oldReportIds);\r\n            window.open(\"#/reportprevmultiple\", \"_blank\");          \r\n        }        \r\n      }else{\r\n        switch (item.templateCode) {\r\n          case \"dashboard/template_01\":     //大屏/模板类型1\r\n                window.open(\"#/dashboardpreview?reportId=\"+item.reportId, \"_blank\");\r\n            break;\r\n          case \"report/template_01\":    //报告/模板类型1\r\n                window.open(\"#/reportpreview?reportId=\"+item.reportId, \"_blank\");\r\n            break;\r\n          default:\r\n            break;\r\n        }        \r\n      }\r\n    },\r\n    overreportlist(item){   //在遮罩显示之前确定编辑是否显示\r\n      // 0不是|1是合并\r\n      this.$set(this.suspendOpt,\"editshowflag\",item.isMerger)\r\n    },\r\n    popclick(item){   //点击的报告对象\r\n      this.reportsindex = item;\r\n    },\r\n    publics(){      //发布\r\n      this.checkboxshow = true;\r\n      this.publicsflag = true;\r\n      if(this.checkednumber>0){\r\n        this.selectDialog(\"发布\")    //先保存然后在发布\r\n      }\r\n    },    \r\n    changecombination(item){   //复选框发生change事件。\r\n      this.reportIdlists.push(item.reportId)    //报告id用于合并\r\n      this.reportshowtype.push(item.showType)    //报告类型用于判断是否可以合并\r\n      if(item.checked){\r\n        this.checkednumber++\r\n        this.reports.push(item)\r\n      }else{\r\n        this.checkednumber--\r\n        this.reports.forEach((obj,index)=>{\r\n          if(obj.reportId == item.reportId){\r\n            this.reports.splice(index,1)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    combinations(){    //报告合并\r\n      let self = this;\r\n      let objrepeat={};\r\n      this.checkboxshow = true;\r\n      if(this.checkednumber>1){\r\n          this.reportshowtype.forEach(function(obj,index){\r\n            if(index == 0 && obj !== null){\r\n              objrepeat[obj] = true;\r\n            }else{\r\n              if(!objrepeat[obj]){\r\n                 alert('报告id不一样不能合并');\r\n                 return;\r\n              }else{\r\n                self.selectDialog(\"合并\")\r\n              }\r\n            }\r\n          })\r\n      }\r\n    },\r\n    ajaxshow: function(message) {   //ajax请求数据\r\n    // debugger\r\n      let self = this;\r\n      self.isLastPage=true;   //在请求数据期间避免重复加载\r\n      self.pagepation = message?message:self.pagepation;    //翻页\r\n      self.serverobject.pagepation = self.pagepation; //翻页配置\r\n      server.reportlist(message,function success(res) {  //接口请求\r\n        let data = res.data.data;\r\n        self.items = self.items.concat(data.list);\r\n        self.isLastPage = data.isLastPage;    //是否最后一页\r\n      });\r\n    },\r\n    submitshow: function(message) {   //列表查询条件提交\r\n    // debugger\r\n      this.pagepation = {   //翻页重置\r\n        pageNum: 1,\r\n        pageSize: 15\r\n      },\r\n      this.items=[];\r\n      let messages = Object.assign(message, this.pagepation);\r\n      this.ajaxshow(messages) \r\n    },\r\n    selectDialog:function(message,type){   //弹窗打开/关闭（message对话框标题，type是操作类型sure为保存close为取消）\r\n      if(type){   //关闭弹窗\r\n        this.dialogOpt.dialogflag=false;\r\n        // this.publicsagainflag=false;\r\n      }else{    //打开弹窗\r\n            if(message == \"编辑\"){\r\n              this.dialogOpt= {\r\n                \"dialogflag\":false,     //根据flag决定弹窗是否出现\r\n                \"width\":\"536px\",\r\n                \"title\":message       //根据title决定弹窗页面内容。\r\n              } \r\n              this.$router.push({ path: \"/editedashboard\",query:{\"templateId\":this.reportsindex.templateId}});               \r\n            }else{\r\n              this.dialogOpt= {\r\n                \"dialogflag\":true,     //根据flag决定弹窗是否出现\r\n                \"width\":\"536px\",\r\n                \"title\":message       //根据title决定弹窗页面内容。\r\n              }\r\n            }\r\n      }\r\n    },\r\n    submitDialog:function(message,type,formdata){    //对话框保存(formdata为对话框表单对象)\r\n      let self=this;\r\n      let formdatas=formdata;\r\n      if(message == \"合并\"){\r\n          let reps=[]\r\n          self.reports.forEach(obj=>{\r\n            reps.push({\r\n              templateCode:obj.templateCode,\r\n              reportId:obj.reportId\r\n            })\r\n          })\r\n          formdata[\"templateId\"] = self.reports[0]['reportId'];\r\n          let params = Object.assign({oldReportIds:JSON.stringify(reps)},formdata);\r\n          server.reportmerger(params,function success(res) {  //接口请求、\r\n            if(res.data.status = \"SUCCESS\"){\r\n                self.dialogOpt.dialogflag=false;\r\n                self.items=[];\r\n                self.ajaxshow()\r\n            }\r\n          });\r\n      }\r\n      if(message == \"发布\"){\r\n          let nweparam = [];\r\n          self.reports.forEach(obj=>{\r\n            formdatas[\"receiveUserId\"].forEach(objchild=>{\r\n              nweparam.push({\r\n                  reportId:obj.reportId,\r\n                  allowTwice:formdatas.allowTwice,\r\n                  urgentType:formdatas.urgentType,\r\n                  usefulTime:formdatas.usefulTime,\r\n                  remark:formdatas.remark,\r\n                  reportTitle:obj.reportTitle,\r\n                  receiveUserId:objchild.id,\r\n                  receiveUserName:objchild.label\r\n                })\r\n            })\r\n          })\r\n          server.reportpublish(nweparam,function success(res) {  //接口请求、\r\n            if(res.data.status = \"SUCCESS\"){\r\n                self.items=[]\r\n                this.checkboxshow = false;\r\n                self.dialogOpt.dialogflag=false;    //弹窗取消\r\n                self.publicsagainflag=false;\r\n                self.ajaxshow();\r\n            }\r\n          });  \r\n      }\r\n      if(message == \"修改主题分类\"){\r\n          let params = Object.assign({reportId:this.reportsindex.reportId},formdata);\r\n          server.reportthemeupdate(params,function success(res) {  //接口请求、\r\n            if(res.data.status = \"SUCCESS\"){\r\n                self.dialogOpt.dialogflag=false;\r\n                self.items=[];\r\n                self.ajaxshow()\r\n            }\r\n          });\r\n      }\r\n      if(message == \"删除\"){\r\n          let params = this.reportsindex.reportId;\r\n          server.reportsdelete(params,function success(res) {  //接口请求、\r\n            if(res.data.status = \"SUCCESS\"){\r\n                self.dialogOpt.dialogflag=false;\r\n                self.items=[];\r\n                self.ajaxshow()\r\n            }\r\n          });\r\n      }\r\n    },    \r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.content-frame {\r\n  border-radius: 10px;\r\n  background-color: #ffffff;\r\n  width: 100%;\r\n  min-height: 300px;\r\n  margin-top: -40px;\r\n  padding: 40px 20px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n    .receivelist {\r\n    border: 1px solid;\r\n    min-width: 320px;\r\n    min-height: 215px;\r\n    width: 3.05rem;\r\n    height: calc(3.05rem - 100px);\r\n    margin: 17px 0px;\r\n    float: left;\r\n    position: relative;\r\n    overflow: visible !important;\r\n    .list-top {\r\n      width: 100%;\r\n      height: 100%;\r\n      text-align: center;\r\n      color: #ffffff;\r\n      font-size: 2em;\r\n      background: linear-gradient(#6886db, #4b63a7);\r\n      padding-top: 57px;\r\n      .defaultitle{\r\n          overflow: hidden;\r\n          display: inline-block;\r\n          text-overflow: ellipsis;\r\n          white-space: nowrap;\r\n          width: 80%;\r\n      }\r\n      .angle{\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          width: 150px;\r\n          height: 150px;\r\n          overflow: hidden;\r\n          .obliqueangle{\r\n              position: absolute;\r\n              top: 0;\r\n              left: 0;\r\n              width: 150px;\r\n              height: 30px;\r\n              background: #a3afb7;\r\n              font-size: 20px;\r\n              transform: translate(-25%,77%) rotate(-45deg);\r\n          }\r\n      }\r\n      .multipletitle{\r\n        display: inline-block;\r\n        width:100%;\r\n        line-height: 30px;\r\n      }\r\n    }\r\n    .combination{\r\n      text-align: center;\r\n      line-height: 30px;\r\n      .el-checkbox__inner{\r\n          width: 16px;\r\n          height: 16px;\r\n          border:1px solid;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/watch/reportwatch.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('FormSelectGroup',{attrs:{\"module\":'reportwatch'},on:{\"submit-query\":_vm.submitshow}}),_vm._v(\" \"),_c('CommonSuspend',{staticClass:\"content-area\",attrs:{\"suspendobj\":_vm.suspendOpt},on:{\"select-dialog\":_vm.selectDialog}},[_c('div',{staticClass:\"underlinebtn\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.combinations}},[_vm._v(\"合并\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.publics}},[_vm._v(\"发布\")])],1),_vm._v(\" \"),_c('Scrollframe',{staticClass:\"content-frame\",attrs:{\"isLastPage\":_vm.isLastPage},on:{\"ajax-query\":_vm.ajaxshow}},_vm._l((_vm.items),function(item,index){return _c('div',{key:index,staticClass:\"receivelist\",on:{\"mouseover\":function($event){_vm.overreportlist(item)},\"mousedown\":function($event){_vm.popclick(item)}}},[_c('div',{staticClass:\"list-top\",on:{\"click\":function($event){_vm.previewreport(item)}}},[(_vm.angleshowflag)?_c('span',{staticClass:\"defaultitle\",attrs:{\"title\":item.reportTitle}},[_vm._v(_vm._s(item.reportTitle))]):_vm._e(),_vm._v(\" \"),_vm._l((item.titleList),function(list,ind){return (!_vm.angleshowflag)?_c('span',{key:ind,staticClass:\"multipletitle\"},[_vm._v(\"\\n                  \"+_vm._s(list.reportTitle)+\"\\n                \")]):_vm._e()}),_vm._v(\" \"),(!item.publishStatus)?_c('div',{staticClass:\"angle\"},[_c('div',{staticClass:\"obliqueangle\"},[_vm._v(\"未发布\")])]):_vm._e()],2),_vm._v(\" \"),(_vm.checkboxshow)?_c('div',{staticClass:\"combination\"},[_c('el-checkbox',{on:{\"change\":function($event){_vm.changecombination(item)}},model:{value:(item.checked),callback:function ($$v) {_vm.$set(item, \"checked\", $$v)},expression:\"item.checked\"}})],1):_vm._e()])}))],1),_vm._v(\" \"),_c('Dialog',{attrs:{\"dialogOpt\":_vm.dialogOpt},on:{\"handlecancle-dialog\":_vm.selectDialog,\"handlesure-dialog\":_vm.submitDialog}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bc843544\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/watch/reportwatch.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bc843544\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./reportwatch.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./reportwatch.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./reportwatch.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bc843544\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./reportwatch.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-bc843544\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/watch/reportwatch.vue\n// module id = null\n// module chunks = ","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/json/stringify.js\n// module id = mvHQ\n// module chunks = 3 4","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/json/stringify.js\n// module id = qkKv\n// module chunks = 3 4"],"sourceRoot":""}