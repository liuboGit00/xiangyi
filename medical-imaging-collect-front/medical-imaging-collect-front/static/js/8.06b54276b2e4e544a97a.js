webpackJsonp([8],{nNDg:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Dd8w"),a=n.n(i),o=n("bOdI"),s=n.n(o),l=n("NYxO"),c={name:"",data:function(){var t;return t={url:"http://10.6.243.133:8083",deleteUrl:"http://10.6.243.133:8083",active:null,idx:null,searchInput:"",restaurants:[],multipleSelection:[],innerSelection:[],options:[]},s()(t,"searchInput",""),s()(t,"loading",!1),s()(t,"list",[]),s()(t,"cols",[{prop:"idNumber",label:"身份证号",infoWidth:"200"},{prop:"name",label:"姓名",infoWidth:"140"},{prop:"birthday",label:"出生日期",infoWidth:"140"},{prop:"phone",label:"联系方式",infoWidth:"160"},{prop:"address",label:"家庭住址 ",infoWidth:"300"}]),s()(t,"detailCols",[{props:"organ.name",label:"检查部位",innerWidth:"150"},{props:"doctor.name",label:"超声医生",innerWidth:"150"},{props:"ultrasonicReport",label:"超声报告",innerWidth:"200"},{props:"pathologicDiagnosis",label:"病理诊断",innerWidth:"100"},{props:"medicalHistory",label:"病史",innerWidth:"240"},{props:"clinicalDiagnosis",label:"临床诊断",innerWidth:"240"},{props:"doctor.section.name",label:"科室",innerWidth:"180"},{props:"checkingDate",label:"检查日期",innerWidth:"180"},{props:"equipment.instrumentModel",label:"仪器型号",innerWidth:"150"},{props:"exampleImageUrl",label:"图像路径 ",innerWidth:"200"}]),s()(t,"tableData",[]),s()(t,"nameData",null),s()(t,"idCardData",null),t},watch:{searchInput:function(){""!==this.searchInput?this.getSearch():this.getData()}},computed:a()({},Object(l.b)(["patient_information"])),methods:{getData:function(){var t=this;this.axios.get(this.deleteUrl+"/tmiPatient/list",{tmiPatient:""}).then(function(e){"SUCCESS"==e.data.status?t.tableData=e.data.data:t.$message({message:e.data.info,type:"warning"})})},formatRole:function(t,e){return 1==t.sex?"男":0==t.sex?"女":"未知"},add:function(){this.$router.push({path:"patient-information"})},seeClick:function(t){"张雨燕"==t.name?(this.$store.dispatch("getRow",{row:t}),this.$router.replace("/CreateAsample-toView")):(this.$store.dispatch("getRow",{row:t}),this.$router.push({name:"Pative-seeform",params:{index:1}}))},handleSelectionChange:function(t){this.multipleSelection=t},innerSelectionChange:function(t){this.innerSelection=t},removeMore:function(){var t=this,e=[];if(this.innerSelection)for(var n=0;n<this.innerSelection.length;n++)e.push(this.innerSelection[n].id);this.$confirm("此操作不可撤销, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.axios.delete(t.deleteUrl+"/medicalRecord/batchRemove?ids="+e.toString()).then(function(e){"SUCCESS"===e.data.status?(t.$message({type:"success",message:"删除成功!"}),t.getData()):t.$confirm(e.data.info,"提示",{confirmButtonText:"确定",showCancelButton:!1,showClose:!1,type:"error"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})});var i=[];if(this.multipleSelection)for(var a=0;a<this.multipleSelection.length;a++)i.push(this.multipleSelection[a].idNumber);this.$confirm("此操作不可撤销, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.axios.delete(t.url+"/tmiPatient/batchRemove?ids="+i).then(function(e){"SUCCESS"===e.data.status?(t.$message({type:"success",message:"删除成功!"}),t.getData()):t.$confirm(e.data.info,"提示",{confirmButtonText:"确定",showCancelButton:!1,showClose:!1,type:"error"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},deleteClick:function(t){var e=this,n=t.id;this.$confirm("此操作不可撤销, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.axios.delete(e.deleteUrl+"/medicalRecord/remove?id="+n).then(function(t){"SUCCESS"===t.data.status?(e.$message({type:"success",message:"删除成功!"}),e.getData()):e.$confirm(t.data.info,"提示",{confirmButtonText:"确定",showCancelButton:!1,showClose:!1,type:"error"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})});var i=t.idNumber;this.$confirm("此操作不可撤销, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.axios.delete(e.url+"/tmiPatient/remove?idNumber="+i).then(function(t){"SUCCESS"===t.data.status?(e.$message({type:"success",message:"删除成功!"}),e.getData()):e.$confirm(t.data.info,"提示",{confirmButtonText:"确定",showCancelButton:!1,showClose:!1,type:"error"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},remoteMethod:function(t){var e=this;""!==t?(this.loading=!0,setTimeout(function(){e.loading=!1,e.options=e.list.filter(function(e){return e.label.indexOf(t)>-1})},200)):this.options=[]},getSearch:function(){var t=this.searchInput.split("/")[1],e=this.patient_information.find(function(e){return e.idNumber===t}),n=[];n.push(e),this.tableData=n}},mounted:function(){var t=this;this.getData(),this.$store.dispatch("getPatientInformation",function(){t.list=t.patient_information.map(function(t){return{value:t.name+"/"+t.idNumber,label:t.name+"/"+t.idNumber}})})}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"patient-main"},[n("div",{staticClass:"patient-tool"},[n("div",{staticClass:"tool"},[n("span",{staticClass:"edit-tool",on:{click:t.add}},[n("i",{staticClass:"icon iconfont icon-xinjian"}),t._v(" "),n("span",[t._v("新建")])]),t._v(" "),n("span",{staticClass:"edit-tool",on:{click:t.removeMore}},[n("i",{staticClass:"icon iconfont icon-shanchu1"}),t._v(" "),n("span",[t._v("删除")])]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3)]),t._v(" "),n("div",{staticClass:"patient-input"},[n("el-select",{staticClass:"text-input",attrs:{clearable:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入姓名/身份证号","remote-method":t.remoteMethod,loading:t.loading},on:{change:function(e){t.getSearch()}},model:{value:t.searchInput,callback:function(e){t.searchInput=e},expression:"searchInput"}},t._l(t.options,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),t._m(4)],1)]),t._v(" "),n("div",{staticClass:"patient-center"},[[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",height:"546","header-cell-style":{background:"#eceff6"},"show-overflow-tooltip":"true","tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),n("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.row.records,border:"","header-cell-style":{background:"#cbe3fd"},"show-overflow-tooltip":"true","tooltip-effect":"dark"},on:{"selection-change":t.innerSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),t._l(t.detailCols,function(t){return n("el-table-column",{key:t.id,attrs:{prop:t.props,label:t.label,align:"center",width:t.innerWidth}})}),t._v(" "),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticClass:"icon iconfont icon-shanchu",attrs:{type:"text",size:"small"},on:{click:function(n){t.deleteClick(e.row)}}})]}}])})],2)]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"sex",label:"性别",width:"76",formatter:t.formatRole}}),t._v(" "),t._l(t.cols,function(e,i){return n("el-table-column",{key:i,class:{active:t.idx===i},attrs:{label:e.label,prop:e.prop,align:"center",width:e.infoWidth}})}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticClass:"icon iconfont icon-chakan1",attrs:{type:"text",size:"small"},on:{click:function(n){t.seeClick(e.row)}}}),t._v(" "),n("el-button",{staticClass:"icon iconfont icon-shanchu",attrs:{type:"text",size:"small"},on:{click:function(n){t.deleteClick(e.row)}}})]}}])})],2)]],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"edit-tool"},[e("i",{staticClass:"icon iconfont icon-qishi"}),this._v(" "),e("span",[this._v("起始")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"edit-tool"},[e("i",{staticClass:"icon iconfont icon-xiangqian"}),this._v(" "),e("span",[this._v("向前")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"edit-tool"},[e("i",{staticClass:"icon iconfont  icon-xianghou"}),this._v(" "),e("span",[this._v("向后")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"edit-tool"},[e("i",{staticClass:"icon iconfont icon-zuihou"}),this._v(" "),e("span",[this._v("结束")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"search-btn"},[e("i",{staticClass:" icon iconfont icon-sousuo"})])}]};var u=n("VU/8")(c,r,!1,function(t){n("vaHv")},"data-v-4f9b98b0",null);e.default=u.exports},vaHv:function(t,e){}});
//# sourceMappingURL=8.06b54276b2e4e544a97a.js.map