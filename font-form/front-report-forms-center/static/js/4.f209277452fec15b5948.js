webpackJsonp([4],{"+pPG":function(e,t,a){"use strict";(function(e){var o=a("woOf"),i=a.n(o),l=a("xbEV"),s=a("gY1r"),n=a("Cin5"),r=a("AO15"),m=a("4BbT");t.a={data:function(){return{formId:"",formIds:"",formTit:"",listForms:"",titleData:"",isLastPage:!1,pagepation:{pageNum:1,pageSize:15},pagetitle:{pageNum:1,pageSize:15},serverobject:m.a,items:[],reportIdlists:[],checkboxshow:!1,checkednumber:0,angleshowflag:!0,dialogOpt:{dialogflag:!1,width:"25%"},suspendOpt:{name:"主题报表",position:"bottom",domClass:"list-top",offsetbottom:"0%",show:!0}}},components:{FormSelectGroup:l.a,Scrollframe:n.a,CommonSuspend:s.a,Dialog:r.a},mounted:function(){this.ajaxshow(),""==document.getElementsByClassName("page")[0].style.display&&this.$emit("typeShow",!1)},methods:{rewTitle:function(e){this.titleData=e.remark},openPage:function(){e(".content-area").clone().html();window.open("#/newztPage","_blank")},rewData:function(e){this.formTit=e,this.formId=e.themeId,localStorage.setItem("reportFormsCodes",e.reportFormsCode)},rewId:function(e){localStorage.setItem("reportFormsCodesZt",e.reportFormsCode)},changecombination:function(e){this.reportIdlists.push(e.reportId),e.checked?this.checkednumber++:this.checkednumber--},share:function(){this.selectDialog("发布")},combinations:function(){this.checkboxshow=!0,this.checkednumber>0&&this.selectDialog("合并")},ajaxshow:function(e){var t=this;t.isLastPage=!0,t.pagepation=e||this.pagepation,t.serverobject.pagepation=this.pagepation,m.a.reportlist(e,function(e){var a=e.data.data;t.items=t.items.concat(a.list),t.items.map(function(e){var a=i()({themeId:e.themeId,pageNum:1,pageSize:12});m.a.reporttitles(a,function(a){t.$set(e,"titleNums",a.data.data.list)})}),t.isLastPage=a.isLastPage})},submitshow:function(e){this.items=[],this.pagepation={pageNum:1,pageSize:15},this.items=[];var t=i()(e,this.pagepation);this.ajaxshow(t)},selectDialog:function(e,t){this.listForms=this.formTit,t?this.dialogOpt.dialogflag=!1:this.dialogOpt={dialogflag:!0,title:e,width:"25%"}},submitDialog:function(e,t,a){var o=this;if(o.items=[],"编辑"===e){var l=i()(a,{themeId:o.formId});m.a.reportmerger(l,function(e){(e.data.status="SUCCESS")&&(a.themeName="",o.dialogOpt.dialogflag=!1,o.ajaxshow())})}if("删除"===e&&m.a.reportdelete(o.formId,function(e){(e.data.status="SUCCESS")&&(o.dialogOpt.dialogflag=!1,o.ajaxshow())}),"修改性质分类"===e){var s=i()(a,{themeId:o.formId});m.a.reportmerger(s,function(e){(e.data.status="SUCCESS")&&(o.dialogOpt.dialogflag=!1,o.ajaxshow())})}}}}}).call(t,a("7t+N"))},"4BbT":function(e,t,a){"use strict";var o,i=a("woOf"),l=a.n(i),s=a("7+uW");t.a=(o=(new s.default).axios,{pagepation:"",reportlist:function(e,t,a){var i=e;i=e?l()(i,this.pagepation):this.pagepation,o.get("/report-forms-themes",{params:i}).then(function(e){t(e)})},reporttitles:function(e,t,a){var i=e;o.get("/report-forms",{params:i}).then(function(e){t(e)})},reportmerger:function(e,t,a){var i=e;o.put("/report-forms-themes",i).then(function(e){t(e)})},reportdelete:function(e,t,a){var i=e;o.delete("/report-forms-themes/"+i).then(function(e){t(e)})}})},"85CD":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("+pPG"),i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("FormSelectGroup",{attrs:{module:"reportheme"},on:{"submit-query":e.submitshow}}),e._v(" "),a("CommonSuspend",{staticClass:"content-area",attrs:{suspendobj:e.suspendOpt},on:{"select-dialog":e.selectDialog}},[a("Scrollframe",{staticClass:"content-frame",attrs:{isLastPage:e.isLastPage},on:{"ajax-query":e.ajaxshow}},e._l(e.items,function(t,o){return a("div",{key:o,staticClass:"receivelist",on:{mousedown:function(a){e.rewData(t)}}},[a("div",{staticClass:"list-top"},[e.angleshowflag?a("span",{staticClass:"defaultitle",attrs:{title:t.themeName}},[e._v(e._s(t.themeName))]):e._e(),e._v(" "),e.angleshowflag?a("div",{staticClass:"defaultitle",attrs:{title:t.remark}},[e._v(e._s(t.remark))]):e._e(),e._v(" "),a("p",{staticClass:"multipletitle"},e._l(t.titleNums,function(t,o){return a("span",{key:o,attrs:{title:t.reportFormsTitle},on:{click:e.openPage,mousedown:function(a){e.rewId(t)}}},[e._v("\n                    "+e._s(t.reportFormsTitle)+"\n                  ")])})),e._v(" "),e.angleshowflag?e._e():a("div",{staticClass:"angle"},[a("div",{staticClass:"obliqueangle"},[e._v("财务")])]),e._v(" "),e.angleshowflag?a("div",{staticClass:"angle"},[a("div",{staticClass:"obliquenext"},[e._v("运营")])]):e._e()]),e._v(" "),e.checkboxshow?a("div",{staticClass:"combination"},[a("el-checkbox",{on:{change:function(a){e.changecombination(t)}},model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"item.checked"}})],1):e._e()])}))],1),e._v(" "),a("Dialog",{attrs:{dialogOpt:e.dialogOpt,itemIds:e.listForms},on:{"handlecancle-dialog":e.selectDialog,"handlesure-dialog":e.submitDialog}})],1)},staticRenderFns:[]};var l=function(e){a("n8O2")},s=a("VU/8")(o.a,i,!1,l,"data-v-3e8a0d72",null);t.default=s.exports},AO15:function(e,t,a){"use strict";var o=a("woOf"),i=a.n(o),l={props:["dialogOpt","itemIds"],data:function(){return{remarks:"",options:[{value:"1",label:"财务"},{value:"2",label:"人力"},{value:"3",label:"固资"},{value:"4",label:"运营"},{value:"5",label:"生产"},{value:"6",label:"其他"}],value:"",form:{themeName:"",propertyType:"",reportFormsId:"",remark:""}}},watch:{itemIds:function(){this.form.themeName=this.itemIds.themeName,this.remarks=this.itemIds.remark,this.form.remark=this.itemIds.remark}},computed:{dialogobj:function(){return i()(this.dialogOpt)}},components:{Dialogcomponent:a("nkcX").a},methods:{selectOp:function(){this.form.propertyType=this.value},dialogHandlesure:function(e,t){for(var a in this.form)""==this.form[a]&&delete this.form[a];switch(e){case"编辑":case"删除":this.$emit("handlesure-dialog",e,t,this.form);break;case"备注":this.$emit("handlecancle-dialog",e,t)}},dialogHandle:function(e,t){this.form.themeName=this.itemIds.themeName,this.form.remark=this.itemIds.remark,this.$emit("handlecancle-dialog",this.itemIds.themeName,this.itemIds.remark,t)}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("Dialogcomponent",{attrs:{dialogobj:e.dialogobj},on:{"dialog-cancle":e.dialogHandle,"dialog-sure":e.dialogHandlesure}},["编辑"==e.dialogobj.title?a("div",[a("el-form",{ref:"form",attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{attrs:{maxlength:20},model:{value:e.form.themeName,callback:function(t){e.$set(e.form,"themeName",t)},expression:"form.themeName"}})],1)],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",maxlength:200},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1):e._e(),e._v(" "),"删除"==e.dialogobj.title?a("div",[a("el-form",{ref:"form",attrs:{model:e.form}},[a("el-form-item",{attrs:{label:""}},[e._v("\n                是否确定删除？\n            ")])],1)],1):e._e(),e._v(" "),"备注"==e.dialogobj.title?a("div",[a("el-form",{ref:"form"},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",maxlength:200},model:{value:e.remarks,callback:function(t){e.remarks=t},expression:"remarks"}},[e._v(e._s(e.remarks))])],1)],1)],1):e._e()])],1)},staticRenderFns:[]};var n=a("VU/8")(l,s,!1,function(e){a("Rgt2")},"data-v-1d7249b8",null);t.a=n.exports},Rgt2:function(e,t){},VOfL:function(e,t){},n8O2:function(e,t){},xbEV:function(e,t,a){"use strict";var o,i=a("7+uW"),l=(o=(new i.default).axios,{pagepation:"",reportmergerlen:function(e,t){o.get("/report-forms-themes").then(function(t){e(t)})}}),s={props:["module"],data:function(){return{options:[],items1:[],items:[],value:"",value1:"",value2:"",options1:[{value:"",label:"全部"},{value:"1",label:"分组表"},{value:"2",label:"垂直柱状图"},{value:"3",label:"折线图"},{value:"4",label:"饼图"}],options2:[{value:"",label:"全部"},{value:"1",label:"财务"},{value:"2",label:"人力"},{value:"3",label:"固资"},{value:"4",label:"运营"},{value:"5",label:"生产"},{value:"6",label:"其他"}],formInline:{themeId:"",themeName:"",formsType:"",propertyType:"",templateName:"",reportFormsTitle:"",publishStatus:""}}},created:function(){var e=this;-1!=window.location.href.indexOf("sessionId")?this.axios.get("/users/"+window.location.href.split("=")[1]).then(function(t){localStorage.setItem("sessionId",window.location.href.split("=")[1]),e.themeName()}):this.axios.get("/users/"+localStorage.getItem("sessionId")).then(function(t){e.themeName()})},methods:{themeName:function(){var e=this;l.reportmergerlen(function(t){var a=t.data.data;e.items1=a.list,e.options.push({value:"",label:"全部"}),e.items1.map(function(t){e.options.push({value:t.themeId,label:t.themeName})})})},selectNum:function(){this.formInline.themeId=this.value},selectNum1:function(){this.formInline.formsType=this.value1},selectNum2:function(){this.formInline.propertyType=this.value2,console.log(this.options2[this.formInline.propertyType].label)},onSubmit:function(){for(var e in this.formInline)""==this.formInline[e]&&delete this.formInline[e];this.$emit("submit-query",this.formInline)}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"define-select-group"},["reportwatch"==e.module?a("div",{staticClass:"group-content"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"报表类型"}},[a("el-select",{attrs:{placeholder:""},on:{change:e.selectNum1},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}},e._l(e.options1,function(e){return a("el-option",{key:e.index,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"性质分类"}},[a("el-select",{attrs:{placeholder:""},on:{change:e.selectNum2},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}},e._l(e.options2,function(e){return a("el-option",{key:e.index,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"主题分类"}},[a("el-select",{attrs:{placeholder:""},on:{change:e.selectNum},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(e){return a("el-option",{key:e.index,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"关键词"}},[a("el-input",{attrs:{placeholder:"请输入报表标题"},model:{value:e.formInline.reportFormsTitle,callback:function(t){e.$set(e.formInline,"reportFormsTitle",t)},expression:"formInline.reportFormsTitle"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1)],1):e._e(),e._v(" "),"reportheme"==e.module?a("div",{staticClass:"group-content"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"主题名"}},[a("el-input",{attrs:{placeholder:"请输入主题报表名称"},model:{value:e.formInline.themeName,callback:function(t){e.$set(e.formInline,"themeName",t)},expression:"formInline.themeName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1)],1):e._e()])},staticRenderFns:[]};var r=a("VU/8")(s,n,!1,function(e){a("VOfL"),a("z/P0")},"data-v-416175bc",null);t.a=r.exports},"z/P0":function(e,t){}});
//# sourceMappingURL=4.f209277452fec15b5948.js.map