webpackJsonp([6],{"+9A/":function(e,t){},QNum:function(e,t){},sQ9v:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=a("woOf"),s=a.n(i),l=a("bOdI"),r=a.n(l),n=a("nkcX"),m=a("7+uW"),c=(o=(new m.default).axios,{pagepation:"",reportmergerlen:function(e,t){o.get("/report-forms-themes").then(function(t){e(t)})},reportmergerTheme:function(e,t,a){var i=e;o.post("/report-forms-themes",i).then(function(e){t(e)})},reportmergernew:function(e,t,a){var i=e;o.post("/report-forms",i).then(function(e){t(e)})}}),p={props:["dialogOpt"],data:function(){var e;return{Name:"",themeNas:"",centerDialogVisible:!1,options:[],value:"",form:(e={remark:"",themeId:"",reportFormsTitle:"",formsType:"",propertyType:"",templateName:""},r()(e,"reportFormsTitle",""),r()(e,"publishStatus",""),e),formId:4,items:[]}},mounted:function(){this.ajaxshow()},computed:{dialogobj:function(){return s()(this.dialogOpt)}},components:{Dialogcomponent:n.a},methods:{theTheme:function(){this.centerDialogVisible=!0},themeSave:function(){var e=this;if(""==e.Name)this.$message({message:"请填写主题名称!",type:"warning"});else if(""==e.themeNas)this.$message({message:"请填写备注!",type:"warning"});else{e.options=[];var t=s()({themeName:e.Name,remark:e.themeNas});c.reportmergerTheme(t,function(t){e.ajaxshow()}),e.centerDialogVisible=!1}},ajaxshow:function(){var e=this;c.reportmergerlen(function(t){t.data.data.list.map(function(t){e.options.push({value:t.themeId,label:t.themeName})})})},selectNum:function(){this.form.themeId=this.value},selectOp:function(){this.form.propertyType=this.value},dialogHandlesure:function(e,t){if(""!=this.form.reportFormsTitle)if(""!=this.form.propertyType)if(""!=this.form.value)if(""!=this.form.remark){for(var a in this.form)""==this.form[a]&&delete this.form[a];switch(e){case"编辑":this.$emit("handlesure-dialog",e,t,this.form),this.$message({message:"保存成功!",type:"warning"})}}else this.$message({message:"请填写备注!",type:"warning"});else this.$message({message:"请填写主题分类!",type:"warning"});else this.$message({message:"请填写性质分类!",type:"warning"});else this.$message({message:"请填写报表标题!",type:"warning"})},dialogHandle:function(e,t){this.$emit("handlecancle-dialog",e,t)}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("Dialogcomponent",{attrs:{dialogobj:e.dialogobj},on:{"dialog-cancle":e.dialogHandle,"dialog-sure":e.dialogHandlesure}},["编辑"==e.dialogobj.title?a("div",[a("el-form",{attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"报表标题"}},[a("el-input",{attrs:{maxlength:20},model:{value:e.form.reportFormsTitle,callback:function(t){e.$set(e.form,"reportFormsTitle",t)},expression:"form.reportFormsTitle"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性质分类"}},[a("el-select",{staticStyle:{width:"203px"},attrs:{placeholder:"模板分类"},model:{value:e.form.propertyType,callback:function(t){e.$set(e.form,"propertyType",t)},expression:"form.propertyType"}},[a("el-option",{attrs:{label:"财务",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"人力",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"固资",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"运营",value:"4"}}),e._v(" "),a("el-option",{attrs:{label:"生产",value:"5"}}),e._v(" "),a("el-option",{attrs:{label:"其他",value:"6"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"主题分类"}},[a("el-select",{staticStyle:{width:"203px"},attrs:{placeholder:"模板分类"},on:{change:e.selectNum},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(e){return a("el-option",{key:e.index,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("span",{staticClass:"el-icon-plus",on:{click:e.theTheme}})],1),e._v(" "),a("el-form-item",{staticClass:"rightMag",staticStyle:{"margin-left":"25px"},attrs:{label:"备 注"}},[a("el-input",{attrs:{type:"textarea",maxlength:200},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1):e._e()]),e._v(" "),a("el-dialog",{attrs:{title:"填写主题名称和备注",visible:e.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("el-form",[a("el-form-item",{attrs:{label:"主题名称"}},[a("el-input",{attrs:{maxlength:20},model:{value:e.Name,callback:function(t){e.Name=t},expression:"Name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",maxlength:200},model:{value:e.themeNas,callback:function(t){e.themeNas=t},expression:"themeNas"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.themeSave}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var h=a("VU/8")(p,u,!1,function(e){a("QNum")},"data-v-03cb875c",null).exports,f=(a("gY1r"),a("Cin5"),{data:function(){return{testpdfurl:"http://10.0.0.126:8084/business/#/basecharts?suneee=suneee",isLastPage:!1,formId:"",formName:"",formTitle:"",pagepation:{pageNum:1,pageSize:15},serverobject:c,items:[],reportIdlists:[],checkboxshow:!1,checkednumber:0,angleshowflag:!0,dialogOpt:{dialogflag:!1,width:"25%"},suspendOpt:{name:"报表查看",position:"bottom",domClass:"list-top",offsetbottom:"20%",show:!0},chartId:"",chartType:"",options:[]}},components:{Dialog:h,Dialogvue:h},mounted:function(){this.accptChild(),""==document.getElementsByClassName("page")[0].style.display&&this.$emit("typeShow",!1)},methods:{submitshow:function(e){this.items=[],this.pagepation={pageNum:1,pageSize:15},this.ajaxshow(e)},selectDialog:function(e,t){t?this.dialogOpt.dialogflag=!1:this.dialogOpt={dialogflag:!0,title:e,width:"25%"}},accptChild:function(){var e=this;window.addEventListener("message",function(t){t.data&&(e.chartId=t.data.chartId,e.chartType=t.data.chartType,console.log(e.chartType),"SUCCESS"==t.data.status&&e.selectDialog("编辑"))})},submitDialog:function(e,t,a){var o=this;if(o.items=[],"编辑"==e){var i=s()(a,{reportFormsCode:o.chartId,formsType:o.chartType});console.log(i),c.reportmergernew(i,function(e){(e.data.status="SUCCESS")&&(o.dialogOpt.dialogflag=!1,o.$router.push({name:"reportwatch",params:{index:"/reportwatch"}}))})}}}}),d={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page"},[t("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"iframe",src:this.testpdfurl}}),this._v(" "),t("Dialog",{attrs:{dialogOpt:this.dialogOpt},on:{"handlecancle-dialog":this.selectDialog,"handlesure-dialog":this.submitDialog}})],1)},staticRenderFns:[]};var g=a("VU/8")(f,d,!1,function(e){a("+9A/")},null,null);t.default=g.exports}});
//# sourceMappingURL=6.efff703c927a3fadbc15.js.map