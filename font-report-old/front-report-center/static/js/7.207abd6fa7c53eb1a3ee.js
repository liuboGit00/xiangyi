webpackJsonp([7],{"8etx":function(e,t){},Gvv4:function(e,t,i){e.exports=i.p+"static/img/user.de3c1d2.png"},H2h5:function(e,t){},bHq5:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,a=i("woOf"),r=i.n(a),s=i("xbEV"),l=i("gY1r"),n=i("Cin5"),p=i("nkcX"),d=i("7+uW"),u=(o=(new d.default).axios,{pagepation:"",reportlist:function(e,t,i){var a=e;a=e?r()(a,this.pagepation):this.pagepation,o.get("/report-publishing/receiving",{params:a}).then(function(e){t(e)})},reporisreply:function(e,t,i){var a=e;o.put("/report-publishing/receiving",a).then(function(e){t(e)})},reportreceivesdelete:function(e,t,i){var a=e;o.delete("/report-publishing/receiving/"+a).then(function(e){t(e)})},reportreceivesput:function(e,t,i){var a=e;o.put("/report-publishing/receiving",a).then(function(e){t(e)})}}),c={props:["dialogOpt"],data:function(){return{form:{reportTitle:"",remark:"",usefulTime1:"",usefulTime2:"",urgentType:"",allowTwice:"",replyContent:""},defaultProps:{children:"children",label:"label"},rules2:{replyContent:[{validator:function(e,t,i){""===t||void 0===t?i(new Error("输入内容不能为空")):i()},trigger:"blur"}]}}},computed:{dialogobj:function(){return r()(this.dialogOpt)}},components:{Dialogcomponent:p.a},methods:{submitForm:function(e,t,i){var o=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;o.$emit("handlesure-dialog",t,i,o.form)})},resetForm:function(e){this.$refs[e].resetFields()},dialogHandlesure:function(e,t){for(var i in this.form)""==this.form[i]&&delete this.form[i];switch(e){case"回复":this.submitForm("ruleForm2",e,t);break;case"删除":this.$emit("handlesure-dialog",e,t,this.form)}this.form={reportTitle:"",remark:"",usefulTime1:"",usefulTime2:"",urgentType:"",allowTwice:"",replyContent:""}},dialogHandle:function(e,t){this.form={reportTitle:"",remark:"",usefulTime1:"",usefulTime2:"",urgentType:"",allowTwice:"",replyContent:""},this.$emit("handlecancle-dialog",e,t)}}},m={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{},[i("Dialogcomponent",{attrs:{dialogobj:e.dialogobj},on:{"dialog-cancle":e.dialogHandle,"dialog-sure":e.dialogHandlesure}},["回复"==e.dialogobj.title?i("div",[i("el-form",{ref:"ruleForm2",attrs:{model:e.form,rules:e.rules2}},[i("el-form-item",{attrs:{label:"",prop:"replyContent"}},[i("el-input",{model:{value:e.form.replyContent,callback:function(t){e.$set(e.form,"replyContent",t)},expression:"form.replyContent"}})],1)],1)],1):e._e(),e._v(" "),"修改标题"==e.dialogobj.title?i("div",[i("el-form",{ref:"ruleForm2",attrs:{model:e.form,rules:e.rules2}},[i("el-form-item",{attrs:{label:"请输入保存后的标题",prop:"reportTitle"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.reportTitle,callback:function(t){e.$set(e.form,"reportTitle",t)},expression:"form.reportTitle"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"备注"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1):e._e(),e._v(" "),"删除"==e.dialogobj.title?i("div",[i("div",{staticStyle:{width:"100%",height:"100%",display:"flex","justify-content":"center","font-size":"20px",color:"#6c6e70"}},[e._v("确定删除？")])]):e._e()])],1)},staticRenderFns:[]};var f=i("VU/8")(c,m,!1,function(e){i("H2h5")},"data-v-3e6b9b24",null).exports,g={data:function(){return{isLastPage:!1,pagepation:{pageNum:1,pageSize:15},serverobject:u,items:[],backgroundColor:["linear-gradient(#6a89d9,#4c65a4)","linear-gradient(#f56986,#c77081)","linear-gradient(#86e6d8,#59ada1)"],dialogOpt:{dialogflag:!1,width:"536px"},suspendOpt:{name:"报告接收",position:"top",domClass:"receivelist",offsetbottom:"10%",show:!0,bgshow:!1},isreplayobj:{},reports:[],reportsindex:{}}},components:{FormSelectGroup:s.a,Scrollframe:n.a,CommonSuspend:l.a,Dialog:f},mounted:function(){this.ajaxshow(),""==document.getElementsByClassName("page")[0].style.display&&this.$emit("typeShow",!1)},methods:{previewreport:function(e){if(self=this,e.isMerger)"dashboard"==JSON.parse(e.oldReportIds)[0].templateCode.split("/")[0]?(localStorage.setItem("oldReportIds",e.oldReportIds),window.open("#/dashboardprevmultiple","_blank")):(localStorage.setItem("oldReportIds",e.oldReportIds),window.open("#/reportprevmultiple","_blank"));else switch(e.templateCode){case"dashboard/template_01":window.open("#/dashboardpreview?reportId="+e.reportId+"&publishId="+e.publishId,"_blank");break;case"report/template_01":window.open("#/reportpreview?reportId="+e.reportId+"&publishId="+e.publishId,"_blank")}},popclick:function(e){this.reportsindex=e},replychange:function(e,t){this.isreplayobj=t,"0"==e&&this.selectDialog("回复")},ajaxshow:function(e){var t=this;t.isLastPage=!0,t.pagepation=e||t.pagepation,t.serverobject.pagepation=t.pagepation,void 0==e&&(e=""),u.reportlist(e,function(e){var i=e.data.data;t.items=t.items.concat(i.list),t.isLastPage=i.isLastPage;for(var o=0,a=1,r=2,s=0;s<t.items.length;s++){var l=t.backgroundColor,n="";o==s&&(n=l[0],o+=3),a==s&&(n=l[1],a+=3),r==s&&(n=l[2],r+=3),t.items[s].bgcolor=n}})},selectDialog:function(e,t){t?this.dialogOpt.dialogflag=!1:this.dialogOpt={dialogflag:!0,width:"536px",title:e}},submitshow:function(e){this.pagepation={pageNum:1,pageSize:15},this.items=[];var t=r()(e,this.pagepation);this.ajaxshow(t)},submitDialog:function(e,t,i){var o=this;if("删除"==e){var a=o.reportsindex.publishId;u.reportreceivesdelete(a,function(e){(e.data.status="SUCCESS")&&(o.dialogOpt.dialogflag=!1,o.items=[],o.pagepation={pageNum:1,pageSize:15},o.ajaxshow())})}if("回复"==e){var s=r()({isReply:"1",publishId:o.reportsindex.publishId},i);u.reportreceivesput(s,function(e){(e.data.status="SUCCESS")&&(o.dialogOpt.dialogflag=!1,o.items=[],o.ajaxshow())})}}},filters:{dataformat:function(e){return e?(e=e.toString(),new Date(e).Format("yyyy-MM-dd hh:mm:ss")):""}}},h={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"page"},[o("FormSelectGroup",{attrs:{module:"reportreceive"},on:{"submit-query":e.submitshow}},[o("div",{staticClass:"underlinebtn"})]),e._v(" "),o("CommonSuspend",{staticClass:"content-area",attrs:{suspendobj:e.suspendOpt},on:{"select-dialog":e.selectDialog}},[o("Scrollframe",{staticClass:"content-frame",attrs:{pagepation:e.pagepation,isLastPage:e.isLastPage},on:{"ajax-query":e.ajaxshow}},e._l(e.items,function(t,a){return o("div",{key:a,staticClass:"receivelist",on:{mousedown:function(i){e.popclick(t)}}},[o("div",{staticClass:"list-top",style:{background:t.bgcolor},on:{click:function(i){e.previewreport(t)}}},[o("span",{staticClass:"defaultitle",attrs:{title:t.receiveReportTitle}},[e._v(e._s(t.receiveReportTitle))]),e._v(" "),o("span",{staticClass:"defaultitle",attrs:{title:t.remark}},[e._v("这里获取的值是空"+e._s(t.remark))])]),e._v(" "),o("div",{staticClass:"list-bot"},[o("span",{attrs:{title:t.publishUserName}},[e._v("from："+e._s(t.publishUserName))]),e._v(" "),o("span",{staticStyle:{"margin-bottom":"5%"}},[e._v(e._s(e._f("dataformat")(t.publishTime)))]),e._v(" "),o("el-button",{directives:[{name:"show",rawName:"v-show",value:t.isReply,expression:"item.isReply"}],staticClass:"define",attrs:{size:"medium",type:"primary",plain:""},on:{click:function(i){e.replychange("1",t)}}},[e._v("已回复")]),e._v(" "),o("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.isReply,expression:"!item.isReply"}],attrs:{size:"medium",type:"primary",plain:""},on:{click:function(i){e.replychange("0",t)}}},[e._v("回复")])],1),e._v(" "),o("div",{staticClass:"phone"},[o("img",{attrs:{src:i("Gvv4"),width:"100%",height:"100%",alt:""}})])])}))],1),e._v(" "),o("Dialog",{attrs:{dialogOpt:e.dialogOpt},on:{"handlecancle-dialog":e.selectDialog,"handlesure-dialog":e.submitDialog}})],1)},staticRenderFns:[]};var v=i("VU/8")(g,h,!1,function(e){i("8etx")},"data-v-13e6ce55",null);t.default=v.exports}});
//# sourceMappingURL=7.207abd6fa7c53eb1a3ee.js.map